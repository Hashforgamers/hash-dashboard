(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9428,2224],{27739:function(e,a,s){Promise.resolve().then(s.bind(s,42357)),Promise.resolve().then(s.bind(s,90152))},42357:function(e,a,s){"use strict";s.d(a,{DashboardLayout:function(){return P}});var t=s(57437),r=s(2265),l=s(32489),n=s(58293),i=s(25922),o=s(62869),d=s(27648),c=s(99376),m=s(94508),u=s(25466),x=s(57716),h=s(97411),p=s(71621),f=s(28870),g=s(95805),b=s(95252),y=s(95080),v=s(42449),j=s(40284),N=s(49474),w=s(92369),k=s(64413),C=s(85929),I=s(97226),_=s(47692);function S(){return(0,t.jsxs)("button",{className:"group flex items-center space-x-2 rounded-md px-3 py-2 text-sm font-medium transition-all hover:bg-accent hover:text-accent-foreground text-red-500 md:pl-[8px]",onClick:()=>{localStorage.removeItem("jwtToken"),localStorage.removeItem("tokenExpiration"),window.location.href="/login"},children:[(0,t.jsx)(_.Z,{className:"h-5 w-5 shrink-0 mb-12"}),(0,t.jsx)("span",{className:"block md:hidden md:group-hover:block whitespace-nowrap mb-12 font-medium",children:"Logout"})]})}function Z(e){let{className:a,onItemClick:s,...r}=e,l=(0,c.usePathname)(),{setTheme:n,theme:o}=(0,i.F)(),_=()=>{let e=["vendor_login_email","vendors"];Object.keys(localStorage).forEach(a=>{e.includes(a)||localStorage.removeItem(a)})};return(0,t.jsxs)("nav",{className:(0,m.cn)("flex flex-col h-full justify-between transition-all duration-300 ease-in-out",a),...r,children:[(0,t.jsx)("div",{className:"flex flex-col space-y-2",children:[{href:"/dashboard",icon:u.Z,label:"Dashboard"},{href:"/gaming",icon:x.Z,label:"Manage Gaming Console"},{href:"/booking",icon:h.Z,label:"Manage Booking"},{href:"/transaction",icon:p.Z,label:"Transaction Report"},{href:"/manage-extraservice",icon:f.Z,label:"Extra Services"},{href:"/know-your-gamers",icon:g.Z,label:"Know Your Gamers"},{href:"/console-pricing",icon:b.Z,label:"Console Pricing"},{href:"/pass",icon:y.Z,label:"Manage Passes"},{href:"/store",icon:v.Z,label:"Store"},{href:"/games",icon:j.Z,label:"Games"},{href:"/tournaments",icon:N.Z,label:"Tournaments"}].map(e=>{let{href:a,icon:r,label:n}=e;return(0,t.jsxs)(d.default,{href:a,onClick:s,className:(0,m.cn)("group/nav flex items-center gap-3 rounded-xl border border-transparent px-3 py-2.5 text-sm font-medium transition-all duration-200","hover:border-border/70 hover:bg-muted/50 hover:text-foreground","md:px-3 xl:px-2 xl:group-hover:px-3",l===a?"gaming-nav-active text-foreground":"text-muted-foreground"),children:[(0,t.jsx)(r,{className:(0,m.cn)("h-5 w-5 shrink-0 transition-colors",l===a?"text-emerald-400":"text-muted-foreground group-hover/nav:text-foreground")}),(0,t.jsx)("span",{className:"whitespace-nowrap md:block xl:hidden xl:group-hover:block",children:n})]},a)})}),(0,t.jsxs)("div",{className:"flex flex-col space-y-2 mt-auto",children:[(0,t.jsxs)(d.default,{href:"/account",onClick:s,className:(0,m.cn)("group/nav flex items-center gap-3 rounded-xl border border-transparent px-3 py-2.5 text-sm font-medium transition-all duration-200","hover:border-border/70 hover:bg-muted/50 hover:text-foreground","md:px-3 xl:px-2 xl:group-hover:px-3","/account"===l?"gaming-nav-active text-foreground":"text-muted-foreground"),children:[(0,t.jsx)(w.Z,{className:(0,m.cn)("h-5 w-5 shrink-0 transition-colors","/account"===l?"text-emerald-400":"text-muted-foreground group-hover/nav:text-foreground")}),(0,t.jsx)("span",{className:"whitespace-nowrap md:block xl:hidden xl:group-hover:block",children:"My Account"})]}),(0,t.jsxs)(d.default,{href:"/select-cafe",onClick:()=>{_(),null==s||s()},className:(0,m.cn)("group/nav flex items-center gap-3 rounded-xl border border-transparent px-3 py-2.5 text-sm font-medium transition-all duration-200","hover:border-border/70 hover:bg-muted/50 hover:text-foreground","md:px-3 xl:px-2 xl:group-hover:px-3","/select-cafe"===l?"gaming-nav-active text-foreground":"text-muted-foreground"),children:[(0,t.jsx)(k.Z,{className:(0,m.cn)("h-5 w-5 shrink-0 transition-colors","/select-cafe"===l?"text-emerald-400":"text-muted-foreground group-hover/nav:text-foreground")}),(0,t.jsx)("span",{className:"whitespace-nowrap md:block xl:hidden xl:group-hover:block",children:"Select Cafe"})]}),(0,t.jsxs)("button",{onClick:()=>{n("dark"===o?"light":"dark"),null==s||s()},className:(0,m.cn)("group/nav flex items-center gap-3 rounded-xl border border-transparent px-3 py-2.5 text-sm font-medium transition-all duration-200","hover:border-border/70 hover:bg-muted/50 hover:text-foreground","md:px-3 xl:px-2 xl:group-hover:px-3","text-muted-foreground"),children:[(0,t.jsxs)("div",{className:"relative flex items-center justify-center w-5 h-5",children:[(0,t.jsx)(C.Z,{className:(0,m.cn)("absolute transition-transform duration-300","dark"===o?"rotate-90 scale-0":"rotate-0 scale-100")}),(0,t.jsx)(I.Z,{className:(0,m.cn)("absolute transition-transform duration-300","dark"===o?"rotate-0 scale-100":"rotate-90 scale-0")})]}),(0,t.jsx)("span",{className:"whitespace-nowrap md:block xl:hidden xl:group-hover:block",children:"Toggle Theme"})]}),(0,t.jsx)(S,{})]})]})}var E=s(33145);function P(e){let{children:a}=e,{theme:s}=(0,i.F)(),[d,c]=(0,r.useState)(!1);return(0,t.jsxs)("div",{className:"premium-shell flex min-h-dvh overflow-hidden text-foreground",children:[(0,t.jsxs)("header",{className:"fixed left-0 right-0 top-0 z-20 flex items-center justify-between border-b border-border/70 bg-background/90 px-4 py-3 backdrop-blur md:hidden",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(E.default,{src:"dark"===s?"/whitehashlogo.png":"/blackhashlogo.png",alt:"Hash Logo",width:36,height:36,className:"shrink-0"}),(0,t.jsx)("span",{className:"premium-heading text-base font-semibold",children:"Hash Gaming"})]}),(0,t.jsx)(o.z,{variant:"ghost",size:"sm",onClick:()=>c(!d),className:"md:hidden",children:d?(0,t.jsx)(l.Z,{className:"h-6 w-6"}):(0,t.jsx)(n.Z,{className:"h-6 w-6"})})]}),(0,t.jsxs)("div",{className:"flex flex-1 overflow-hidden pt-[58px] md:pt-0",children:[(0,t.jsxs)("aside",{className:"\n            group fixed left-0 top-0 z-30 h-full w-[86vw] max-w-72 border-r border-border/70 bg-background/85 p-4 backdrop-blur-md transition-transform duration-300 ease-out\n            md:relative md:w-72 md:max-w-none md:translate-x-0\n            xl:w-[76px] xl:hover:w-72\n            ".concat(d?"translate-x-0":"-translate-x-full","\n          "),children:[(0,t.jsxs)("div",{className:"mb-6 hidden items-end space-x-2 overflow-hidden md:flex",children:[(0,t.jsx)(E.default,{src:"/whitehashlogo.png",alt:"Hash Logo - Dark Mode",width:36,height:36,className:"shrink-0 hidden dark:block"}),(0,t.jsx)(E.default,{src:"/blackhashlogo.png",alt:"Hash Logo - Light Mode",width:36,height:36,className:"shrink-0 dark:hidden"}),(0,t.jsx)("span",{className:"premium-heading ml-1 hidden whitespace-nowrap text-sm font-semibold text-foreground md:block xl:hidden xl:group-hover:block",children:"Hash Gaming"})]}),(0,t.jsx)(Z,{className:"flex-col items-start space-y-2",onItemClick:()=>c(!1)})]}),d&&(0,t.jsx)("div",{className:"fixed inset-0 z-20 bg-black/55 backdrop-blur-[1px] md:hidden",onClick:()=>c(!1)}),(0,t.jsx)("main",{className:"flex-1 overflow-y-auto px-2 pb-2 pt-2 sm:px-3 sm:pb-3 md:px-4 md:pb-4 md:pt-4",children:a})]})]})}},90152:function(e,a,s){"use strict";s.d(a,{MyAccount:function(){return O}});var t=s(57437),r=s(2265),l=s(62869),n=s(95186),i=s(26815),o=s(76818),d=s(19060),c=s(66070),m=s(35974),u=s(32489),x=s(51817),h=s(15868),p=s(29202),f=s(89345),g=s(53113),b=s(98420),y=s(91723),v=s(87117),j=s(88226),N=s(95252),w=s(53581),k=s(83229),C=s(48736),I=s(98728),_=s(81197),S=s(94508),Z=s(14474),E=s(38303),P=s(83464),D=s(75956),z=s(14368),T=s(51268),U=s(35217),A=s(88906);function F(e){let{isOpen:a,onClose:s,onVerifySuccess:o,vendorId:d,pageType:c,pageName:m}=e,[h,p]=(0,r.useState)(""),[g,b]=(0,r.useState)(!1),[y,v]=(0,r.useState)(""),[j,N]=(0,r.useState)(!1),w=async()=>{N(!0),v("");try{let e=await P.Z.post("".concat(E.NV,"/api/vendor/").concat(d,"/send-otp"),{page_type:c});e.data.success?alert("OTP sent to your registered email address"):v(e.data.message)}catch(e){v("Failed to send OTP. Please try again.")}finally{N(!1)}},k=async()=>{if(!h.trim()||6!==h.length){v("Please enter a valid 6-digit OTP");return}b(!0),v("");try{let e=await P.Z.post("".concat(E.NV,"/api/vendor/").concat(d,"/verify-otp"),{page_type:c,otp:h.trim()});e.data.success?(o(),s()):v(e.data.message)}catch(e){v("OTP verification failed. Please try again.")}finally{b(!1)}};return(r.useEffect(()=>{a&&!j&&w()},[a]),a)?(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:(0,t.jsx)(z.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-card rounded-lg p-6 max-w-md w-full mx-auto shadow-2xl border border-border",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(A.Z,{className:"w-6 h-6 text-primary"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"Security Verification"})]}),(0,t.jsx)(l.z,{variant:"ghost",size:"sm",onClick:s,className:"text-muted-foreground hover:text-foreground",children:(0,t.jsx)(u.Z,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"text-center space-y-2",children:[(0,t.jsx)(f.Z,{className:"w-12 h-12 text-blue-500 mx-auto"}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["To access ",(0,t.jsx)("strong",{children:m}),", please verify your identity using the OTP sent to your registered email address."]})]}),y&&(0,t.jsx)("div",{className:"p-3 rounded-md bg-red-500/20 border border-red-500/50 text-red-400 text-sm",children:y}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(i._,{className:"text-foreground",children:"Enter 6-Digit OTP"}),(0,t.jsx)(n.I,{type:"text",value:h,onChange:e=>p(e.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",className:"bg-input border-input text-foreground text-center text-lg tracking-widest",maxLength:6})]}),(0,t.jsx)(l.z,{onClick:k,disabled:g||!h.trim()||6!==h.length,className:"w-full bg-emerald-500 hover:bg-emerald-600 text-white",children:g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Z,{className:"w-4 h-4 animate-spin mr-2"}),"Verifying..."]}):"Verify OTP"}),(0,t.jsx)(l.z,{onClick:()=>{p(""),v(""),w()},variant:"ghost",size:"sm",className:"w-full text-xs text-muted-foreground hover:text-foreground",disabled:j,children:j?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Z,{className:"w-4 h-4 animate-spin mr-2"}),"Sending..."]}):"Didn't receive OTP? Resend"})]}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground text-center space-y-1",children:[(0,t.jsx)("p",{children:"• OTP is valid for 5 minutes"}),(0,t.jsx)("p",{children:"• Check your spam folder if you don't see the email"}),(0,t.jsx)("p",{children:"• Never share your OTP with anyone"})]})]})]})})}):null}function O(){let[e,a]=(0,r.useState)([]),[s,A]=(0,r.useState)("Cafe Gallery"),O=(0,r.useRef)(null),[R,B]=(0,r.useState)(null),[H,M]=(0,r.useState)(!0),[L,V]=(0,r.useState)(null),[G,q]=(0,r.useState)(null),[Y,X]=(0,r.useState)(null),[W,J]=(0,r.useState)(""),[K,$]=(0,r.useState)([]),[Q,ee]=(0,r.useState)(null),[ea,es]=(0,r.useState)([]),[et,er]=(0,r.useState)(null),[el,en]=(0,r.useState)(""),[ei,eo]=(0,r.useState)(!1),[ed,ec]=(0,r.useState)(null),[em,eu]=(0,r.useState)(null),[ex,eh]=(0,r.useState)({}),[ep,ef]=(0,r.useState)(null),[eg,eb]=(0,r.useState)(null),[ey,ev]=(0,r.useState)(!1),[ej,eN]=(0,r.useState)({accountHolderName:"",bankName:"",accountNumber:"",ifscCode:"",upiId:""}),[ew,ek]=(0,r.useState)(!1),[eC,eI]=(0,r.useState)(!1),[e_,eS]=(0,r.useState)([]),[eZ,eE]=(0,r.useState)(!1),[eP,eD]=(0,r.useState)(1),[ez,eT]=(0,r.useState)(1),[eU,eA]=(0,r.useState)(!1),[eF,eO]=(0,r.useState)("bank"),[eR,eB]=(0,r.useState)("bank"),[eH,eM]=(0,r.useState)(!1),[eL,eV]=(0,r.useState)(null),[eG,eq]=(0,r.useState)(new Set),[eY,eX]=(0,r.useState)([]),[eW,eJ]=(0,r.useState)(!1),[eK,e$]=(0,r.useState)(null),[eQ,e0]=(0,r.useState)(null),[e2,e5]=(0,r.useState)(null),[e1,e4]=(0,r.useState)(!1),e3=async()=>{if(L){eJ(!0),e0(null);try{let e=await P.Z.get("".concat(E.m7,"/api/vendor/").concat(L,"/paymentMethods"));if(e.data.success)eX(e.data.payment_methods);else throw Error(e.data.error||"Failed to fetch payment methods")}catch(r){var e,a,s;console.error("Error fetching payment methods:",r);let t=(null===(a=r.response)||void 0===a?void 0:null===(e=a.data)||void 0===e?void 0:e.error)||r.message||"Failed to load payment methods";e0(t),((null===(s=r.response)||void 0===s?void 0:s.status)===404||t.includes("not found"))&&await e7()}finally{eJ(!1)}}},e6=async(e,a)=>{if(L){e$(e),e0(null),e5(null);try{let a=await P.Z.post("".concat(E.m7,"/api/vendor/").concat(L,"/paymentMethods/toggle"),{pay_method_id:e},{headers:{"Content-Type":"application/json"}});if(a.data.success)eX(s=>s.map(s=>s.pay_method_id===e?{...s,is_enabled:a.data.data.is_enabled}:s)),e5(a.data.message),setTimeout(()=>e5(null),3e3);else throw Error(a.data.error||"Failed to toggle payment method")}catch(e){var s,t;console.error("Error toggling payment method:",e),e0((null===(t=e.response)||void 0===t?void 0:null===(s=t.data)||void 0===s?void 0:s.error)||e.message||"Failed to update payment method"),setTimeout(()=>e0(null),5e3)}finally{e$(null)}}},e7=async()=>{try{e0(null),(await P.Z.post("".concat(E.m7,"/api/payment-methods/initialize"))).data.success&&setTimeout(()=>{e3()},500)}catch(e){console.error("Error initializing payment methods:",e),e0("Failed to initialize payment methods. Please contact support.")}},e8=()=>{e0(null),e5(null)},e9=async e=>{try{return(await P.Z.get("".concat(E.NV,"/api/vendor/").concat(L,"/check-verification?page_type=").concat(e))).data.is_verified}catch(e){return console.error("Error checking verification:",e),!1}},ae=async e=>{e4(!0);let a="Bank Transfer"===e?"bank_transfer":"payout_history",s=await e9(a);e4(!1),s||eG.has(a)?A(e):(eV(e),eM(!0))},aa=async()=>{if(L){ev(!0);try{let e=await P.Z.get("".concat(E.m7,"/api/vendor/").concat(L,"/bank-details"));e.data.success&&(eb(e.data.bankDetails),eN({accountHolderName:e.data.bankDetails.accountHolderName||"",bankName:e.data.bankDetails.bankName||"",accountNumber:e.data.bankDetails.fullAccountNumber||"",ifscCode:e.data.bankDetails.ifscCode||"",upiId:e.data.bankDetails.upiId||""}))}catch(e){console.error("Error fetching bank details:",e),eb(null)}finally{ev(!1)}}},as=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(L){eE(!0);try{let s=await P.Z.get("".concat(E.m7,"/api/vendor/").concat(L,"/payouts?page=").concat(e,"&per_page=10"));if(s.data.success&&Array.isArray(s.data.payouts)){var a;eS(s.data.payouts),eT((null===(a=s.data.pagination)||void 0===a?void 0:a.total_pages)||1)}else eS([]),eT(1)}catch(e){console.error("Error fetching payouts:",e),eS([]),eT(1)}finally{eE(!1)}}},at=(e,a)=>{eN(s=>({...s,[e]:a}))},ar=async()=>{var e,a,s,t,r,l,n,i,o,d;eI(!0);try{let n={};if("bank"===eF){if(!(null===(e=ej.accountHolderName)||void 0===e?void 0:e.trim())){alert("Account holder name is required"),eI(!1);return}if(!(null===(a=ej.bankName)||void 0===a?void 0:a.trim())){alert("Bank name is required"),eI(!1);return}if(!(null===(s=ej.accountNumber)||void 0===s?void 0:s.trim())){alert("Account number is required"),eI(!1);return}if(!(null===(t=ej.ifscCode)||void 0===t?void 0:t.trim())||11!==ej.ifscCode.length){alert("Valid IFSC code (11 characters) is required"),eI(!1);return}n={accountHolderName:ej.accountHolderName.trim(),bankName:ej.bankName.trim(),accountNumber:ej.accountNumber.trim(),ifscCode:ej.ifscCode.toUpperCase().trim(),upiId:(null===(r=ej.upiId)||void 0===r?void 0:r.trim())||null}}else{if(!(null===(l=ej.upiId)||void 0===l?void 0:l.trim())){alert("UPI ID is required"),eI(!1);return}n={upiId:ej.upiId.trim(),accountHolderName:null,bankName:null,accountNumber:null,ifscCode:null}}console.log("Sending payment data:",n);let i=await P.Z.post("".concat(E.m7,"/api/vendor/").concat(L,"/bank-details"),n);i.data.success?(alert("".concat("bank"===eF?"Bank account":"UPI"," details saved successfully!")),ek(!1),aa()):alert(i.data.message||"Failed to save payment details")}catch(e){console.error("Error saving payment details:",e),alert((null===(i=e.response)||void 0===i?void 0:null===(n=i.data)||void 0===n?void 0:n.error)||(null===(d=e.response)||void 0===d?void 0:null===(o=d.data)||void 0===o?void 0:o.message)||"Failed to save payment details. Please try again.")}finally{eI(!1)}};(0,r.useEffect)(()=>{"Bank Transfer"===s?(aa(),e3()):"Payout History"===s?as(eP):"Operating Hours"===s&&!ea.length&&(null==R?void 0:R.operatingHours)&&es(R.operatingHours.map(e=>({day:e.day,open:e.open||"09:00",close:e.close||"18:00",slotDurationMinutes:e.slotDurationMinutes||30,isEnabled:void 0===e.isEnabled||e.isEnabled,hasChanges:!1})))},[s,L,eP]);let al=e=>{var a;eu(e),eh({businessName:aS.businessName||(null==R?void 0:null===(a=R.cafeProfile)||void 0===a?void 0:a.name)||"John's Cafe",businessType:aS.businessType||"cafe",phone:aS.phone||"",website:aS.website||"",address:aS.address||""})},an=(e,a)=>{eh(s=>({...s,[e]:a}))},ai=async e=>{ef(e);try{if(!L)throw Error("Vendor ID not available");let a={[e]:ex[e]};console.log("Saving ".concat(e,":"),a);let s=await P.Z.patch("".concat(E.m7,"/api/vendor/").concat(L,"/business-details"),a,{headers:{"Content-Type":"application/json"}});if(s.data.success)alert("".concat(e," updated successfully!")),B(a=>({...a,businessDetails:{...a.businessDetails,[e]:ex[e]},..."businessName"===e&&{cafeProfile:{...a.cafeProfile,name:ex[e]}}})),eu(null);else throw Error(s.data.message||"Update failed")}catch(n){var a,s,t,r;console.error("Error saving business field:",n);let l=(null===(s=n.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.error)||(null===(r=n.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message)||n.message||"Error saving changes. Please try again.";alert("Error updating ".concat(e,": ").concat(l))}finally{ef(null)}},ao=()=>{eu(null),eh({})},ad=async e=>{var a;let s=null===(a=e.target.files)||void 0===a?void 0:a[0];if(!s||!L)return;eo(!0),ec("Uploading profile image...");let t=new FormData;t.append("profileImage",s);try{let e=await P.Z.post("".concat(E.m7,"/api/vendor/").concat(L,"/update-profile-image"),t,{headers:{"Content-Type":"multipart/form-data"}});if(e.data.success){let a=e.data.profileImage.url;en(a),ec("Profile image updated successfully!"),setTimeout(()=>ec(null),3e3)}else console.error("Profile upload failed:",e.data.message),ec("Upload failed: ".concat(e.data.message)),setTimeout(()=>ec(null),5e3)}catch(e){console.error("Error uploading profile image:",e),ec("Error uploading profile image. Please try again."),setTimeout(()=>ec(null),5e3)}finally{eo(!1),e.target.value=""}},ac=e=>{if(!e)return"";let[a,s]=e.split(":"),t=parseInt(a,10);return"".concat((t%12||12).toString().padStart(2,"0"),":").concat(s," ").concat(t>=12?"PM":"AM")},am=async(e,a)=>{try{let s={start_time:ac(a.open),end_time:ac(a.close),slot_duration:a.slotDurationMinutes,day:a.day.toLowerCase()};console.log("Sending payload:",s);let t=await fetch("".concat(E.NV,"/api/vendor/").concat(e,"/updateSlot"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("jwtToken"))},body:JSON.stringify(s)}),r=await t.json();if(!t.ok)throw Error(r.message||"Failed to update operating hours");return{success:!0,data:r}}catch(e){return console.error("Error updating operating hours:",e),{success:!1,error:e.message}}},au=async e=>{er(e);try{let a=localStorage.getItem("jwtToken");if(!a)throw Error("No authentication token found");let s=(0,Z.o)(a).sub.id,t=ea.find(a=>a.day===e);if(!t)throw Error("Day data not found");if(!t.open||!t.close||!t.slotDurationMinutes)throw Error("Please fill in all required fields");console.log("Starting slot update process...");let r=await am(s,t);if(r.success)alert("".concat(e.charAt(0).toUpperCase()+e.slice(1)," hours updated successfully!")),es(a=>a.map(a=>a.day===e?{...a,hasChanges:!1}:a)),ee(null),window.dispatchEvent(new Event("refresh-dashboard"));else throw Error(r.error)}catch(e){console.error("Error saving slot:",e),alert("Error: "+(e.message||"Failed to save operating hours"))}finally{er(null)}},ax=(e,a,s)=>{es(t=>t.map(t=>t.day===e?{...t,[a]:s,hasChanges:!0}:t))},ah=(e,a)=>{if(a<15||a>240){ab.error("Slot duration must be between 15 and 240 minutes");return}es(s=>s.map(s=>s.day===e?{...s,slotDurationMinutes:a,hasChanges:!0}:s))},ap=(e,a)=>{es(s=>s.map(s=>s.day===e?{...s,isEnabled:a,hasChanges:!0}:s))};(0,r.useEffect)(()=>{(null==R?void 0:R.operatingHours)?es(R.operatingHours.map(e=>({day:e.day,open:e.open||"09:00",close:e.close||"18:00",slotDurationMinutes:e.slotDurationMinutes||30,isEnabled:void 0===e.isEnabled||e.isEnabled,hasChanges:!1}))):es(["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].map(e=>({day:e.substring(0,3),open:"09:00",close:"18:00",slotDurationMinutes:30,isEnabled:!0,hasChanges:!1})))},[R]);let af=e=>{ee(e)},ag=()=>{if(ee(null),null==R?void 0:R.operatingHours){let e=R.operatingHours.find(e=>e.day===Q);e&&es(a=>a.map(a=>a.day===Q?{...e,hasChanges:!1}:a))}},ab={error:e=>{console.log("Error:",e),alert("Error: "+e)}};(0,r.useEffect)(()=>{let e=localStorage.getItem("jwtToken");if(e)try{let a=(0,Z.o)(e);V(a.sub.id),console.log("Vendor ID from token:",a.sub.id)}catch(e){console.error("Error decoding token:",e)}else console.log("No JWT token found in localStorage.")},[]);let ay=async e=>{var s;let t=null===(s=e.target.files)||void 0===s?void 0:s[0];if(!t||!L)return;q("Uploading image...");let r=new FormData;r.append("image",t);try{let e=await P.Z.post("".concat(E.NV,"/api/vendor/").concat(L,"/add-image"),r,{headers:{"Content-Type":"multipart/form-data"}});if(e.data.success){let s=e.data.image.url;a(e=>[...e,s]),q("Image uploaded successfully!"),setTimeout(()=>q(null),3e3)}else console.error("Upload failed:",e.data.message),q("Upload failed: ".concat(e.data.message)),setTimeout(()=>q(null),5e3)}catch(e){console.error("Error uploading image:",e),q("Error uploading image. Please try again."),setTimeout(()=>q(null),5e3)}finally{e.target.value=""}},av=async e=>{let a=e.currentTarget.dataset.label;"Bank Transfer"===a||"Payout History"===a?await ae(a):A(a)},aj=(e,a)=>{X(e),J(a)},aN=()=>{X(null),J("")};(0,r.useEffect)(()=>{!async function(){if(!L){console.log("No vendorId available");return}M(!0);try{console.log("Fetching dashboard for vendor:",L);let s=await P.Z.get("".concat(E.m7,"/api/vendor/").concat(L,"/dashboard"));console.log("API Response:",s.data);let t=s.data.cafeProfile.profileImage||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?q=80&w=2070&auto=format&fit=crop";if(en(t),s.data&&s.data.cafeProfile){var e;B(s.data);let t=(null===(e=s.data.cafeGallery)||void 0===e?void 0:e.images)||[];if(console.log("Images data:",t),t.length>0&&"object"==typeof t[0]&&t.id){console.log("Using image objects format"),$(t);let e=t.map(e=>e.url||"").filter(Boolean);a(e)}else{console.log("Using URL format"),$([]);let e=t.filter(e=>null!=e).map(e=>{let a="";if("string"==typeof e)a=e;else if("object"==typeof e&&e.url)a=e.url;else{if("object"!=typeof e||!e.path)return console.warn("Unexpected image data format:",e),"";a=e.path}return a&&""!==a.trim()?a.startsWith("http")?a:"".concat(E.m7.replace(/\/$/,"")).concat(a.startsWith("/")?"":"/").concat(a):""}).filter(Boolean);a(e)}}else console.error("Dashboard API returned no expected data:",s.data),B(null)}catch(e){console.error("Error fetching dashboard data:",e),B(null)}finally{M(!1)}}()},[L]);let aw=async s=>{if(console.log("handleDeleteImageByUrl called with index:",s),!L){console.log("No vendorId available");return}q("Deleting image...");try{let t=e[s];if(console.log("Attempting to delete image URL:",t),!t)throw Error("Image URL not found");let r=await P.Z.delete("".concat(E.NV,"/api/vendor/").concat(L,"/delete-image-by-url"),{data:{imageUrl:t},headers:{"Content-Type":"application/json"}});if(console.log("Delete response:",r.data),r.data.success)a(e=>e.filter((e,a)=>a!==s)),q("Image deleted successfully!"),setTimeout(()=>q(null),3e3);else throw Error(r.data.message||"Delete failed")}catch(e){var t,r;console.error("Error deleting image:",e),q((null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message)||e.message||"Error deleting image. Please try again."),setTimeout(()=>q(null),5e3)}},ak=async e=>{var s,t,r;if(L&&K[e]){q("Deleting image...");try{let t=null===(s=K[e])||void 0===s?void 0:s.id;if(!t)throw Error("Image ID not found");let r=await P.Z.delete("".concat(E.NV,"/api/vendor/").concat(L,"/delete-image/").concat(t));if(r.data.success){if(a(a=>a.filter((a,s)=>s!==e)),$(a=>a.filter((a,s)=>s!==e)),q("Image deleted successfully!"),setTimeout(()=>q(null),3e3),r.data.remaining_images){let e=r.data.remaining_images.map(e=>e.url);a(e),$(r.data.remaining_images)}}else throw Error(r.data.message||"Delete failed")}catch(e){console.error("Error deleting image:",e),q((null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message)||e.message||"Error deleting image. Please try again."),setTimeout(()=>q(null),5e3)}}};if((0,r.useEffect)(()=>{O.current!==s&&console.log("Page updated:",s),O.current=s},[s]),H)return(0,t.jsx)(D.Z,{className:"min-h-[500px]"});if(!R)return(0,t.jsx)("div",{className:"text-center text-destructive p-8",children:"Failed to load data. Please try again later."});let aC=e=>{let{enabled:a,onToggle:s,disabled:r=!1,loading:l=!1,size:n="default"}=e;return(0,t.jsxs)("button",{type:"button",onClick:s,disabled:r||l,className:(0,S.cn)("relative inline-flex shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",{sm:"w-8 h-4",default:"w-11 h-6",lg:"w-14 h-7"}[n],a?"bg-primary":"bg-gray-200 dark:bg-gray-700",r&&"opacity-50 cursor-not-allowed"),role:"switch","aria-checked":a,children:[(0,t.jsx)("span",{className:"sr-only",children:"Toggle setting"}),(0,t.jsx)("span",{className:(0,S.cn)("pointer-events-none relative inline-block rounded-full bg-white shadow transform ring-0 transition duration-200 ease-in-out",{sm:"w-3 h-3",default:"w-5 h-5",lg:"w-6 h-6"}[n],a?"sm"===n?"translate-x-4":"lg"===n?"translate-x-7":"translate-x-5":"translate-x-0"),children:l&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsx)(x.Z,{className:(0,S.cn)("animate-spin text-gray-400","sm"===n?"w-2 h-2":"lg"===n?"w-4 h-4":"w-3 h-3")})})})]})},{navigation:aI,cafeProfile:a_,businessDetails:aS,operatingHours:aZ,billingDetails:aE,verifiedDocuments:aP}=R;return(0,t.jsxs)("div",{className:"min-h-screen bg-background text-foreground",children:[(0,t.jsx)("div",{className:"container py-6 md:py-8 space-y-8",children:(0,t.jsxs)("div",{className:"grid grid-cols-12 gap-6",children:[(0,t.jsxs)(z.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},className:"col-span-12 md:col-span-3 space-y-4",children:[a_&&(0,t.jsxs)(c.Zb,{className:"bg-card border border-border shadow-lg",children:[(0,t.jsxs)(c.Ol,{children:[(0,t.jsx)(c.ll,{className:"text-foreground",children:"Cafe Profile"}),(0,t.jsx)(c.SZ,{className:"text-muted-foreground",children:"Your public profile information"})]}),(0,t.jsxs)(c.aY,{className:"p-4 space-y-6",children:[ed&&(0,t.jsx)("div",{className:(0,S.cn)("p-2 rounded-md text-xs font-medium text-center",ed.includes("successfully")?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:ed}),(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-3",children:[(0,t.jsxs)("div",{className:"relative group transition-transform duration-300 ease-in-out hover:scale-105",children:[(0,t.jsx)("div",{className:"h-32 w-32 rounded-full p-[4px] bg-gradient-to-r from-emerald-500 via-cyan-500 to-blue-500 animate-spin-slow",children:(0,t.jsxs)("div",{className:"h-full w-full rounded-full bg-background flex items-center justify-center overflow-hidden",children:[(0,t.jsx)("img",{src:el||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?q=80&w=2070&auto=format&fit=crop",alt:"Profile Avatar",className:"h-full w-full object-cover rounded-full"}),ei&&(0,t.jsx)("div",{className:"absolute inset-0 bg-black/50 rounded-full flex items-center justify-center",children:(0,t.jsx)(x.Z,{className:"h-6 w-6 text-white animate-spin"})})]})}),(0,t.jsxs)("label",{htmlFor:"profile-image-upload",className:"absolute -bottom-1 -right-1 h-10 w-10 bg-primary hover:bg-primary/90 rounded-full flex items-center justify-center cursor-pointer shadow-lg border-2 border-background transition-all duration-200 hover:scale-110",children:[(0,t.jsx)("input",{id:"profile-image-upload",type:"file",className:"hidden",accept:"image/*",onChange:ad,disabled:ei}),(0,t.jsx)(h.Z,{className:"h-4 w-4 text-primary-foreground"})]})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h3",{className:"font-medium text-foreground",children:a_.name||"Cafe Name"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:a_.membershipStatus||"Standard Member"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-foreground",children:[(0,t.jsx)(p.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"truncate",children:a_.website||"Not Available"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-foreground",children:[(0,t.jsx)(f.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"truncate",children:a_.email||"No Email Provided"})]})]})]})]}),(0,t.jsx)(c.Zb,{className:"bg-card border border-border shadow-lg",children:(0,t.jsx)(c.aY,{className:"p-4",children:(0,t.jsx)("nav",{className:"space-y-2",children:[{icon:g.Z,label:"Cafe Gallery"},{icon:b.Z,label:"Business Details"},{icon:y.Z,label:"Operating Hours"},{icon:v.Z,label:"Verified Documents"},{icon:j.Z,label:"Bank Transfer"},{icon:N.Z,label:"Payout History"}].map((e,a)=>(0,t.jsx)(z.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*a},children:(0,t.jsxs)(l.z,{variant:"ghost",className:(0,S.cn)("w-full justify-start text-muted-foreground hover:bg-muted hover:text-foreground transition-colors duration-200",s===e.label?"bg-muted text-foreground font-semibold":""),onClick:av,"data-label":e.label,children:[(0,t.jsx)(e.icon,{className:"mr-2 h-4 w-4"}),e.label]})},e.label))})})})]}),(0,t.jsx)(z.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},className:"col-span-12 md:col-span-9 space-y-6",children:(0,t.jsxs)("form",{className:"space-y-6",children:["Cafe Gallery"===s&&(0,t.jsx)("div",{children:(0,t.jsxs)(c.Zb,{className:"bg-card border border-border shadow-lg",children:[(0,t.jsxs)(c.Ol,{children:[(0,t.jsx)(c.ll,{className:"text-foreground",children:"Cafe Gallery"}),(0,t.jsx)(c.SZ,{className:"text-muted-foreground",children:"Showcase your cafe's ambiance and offerings"})]}),(0,t.jsxs)(c.aY,{className:"space-y-4",children:[G&&(0,t.jsx)("div",{className:(0,S.cn)("p-3 rounded-md text-sm font-medium",G.includes("successfully")||G.includes("deleted")?"bg-green-500/20 text-green-400":G.includes("Uploading")||G.includes("Deleting")?"bg-blue-500/20 text-blue-400":"bg-red-500/20 text-red-400"),children:G}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.map((e,a)=>(0,t.jsxs)("div",{className:"relative group aspect-square flex items-center justify-center border border-border rounded-md overflow-hidden shadow-sm",children:[(0,t.jsx)("img",{src:e||"/placeholder.svg",alt:"Cafe Image ".concat(a+1),className:"object-cover w-full h-full rounded-md"}),(0,t.jsxs)("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-md flex items-center justify-center",children:[(0,t.jsxs)(l.z,{type:"button",size:"icon",variant:"ghost",className:"absolute top-2 right-2 text-white hover:bg-red-500/80 hover:text-white transition-colors",onClick:e=>{var s;e.preventDefault(),e.stopPropagation(),console.log("Delete button clicked for index:",a),K.length>0&&(null===(s=K[a])||void 0===s?void 0:s.id)?ak(a):aw(a)},disabled:null==G?void 0:G.includes("Deleting"),title:"Delete image",children:[(null==G?void 0:G.includes("Deleting"))?(0,t.jsx)(x.Z,{className:"w-5 h-5 animate-spin"}):(0,t.jsx)(u.Z,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"sr-only",children:"Remove image"})]}),(0,t.jsxs)(l.z,{type:"button",size:"icon",variant:"ghost",className:"absolute top-2 left-2 text-white hover:bg-blue-500/80 hover:text-white transition-colors opacity-0 group-hover:opacity-100",onClick:a=>{a.preventDefault(),a.stopPropagation(),window.open(e,"_blank")},title:"View full size",children:[(0,t.jsx)(g.Z,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"sr-only",children:"View full size"})]}),(0,t.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-2",children:(0,t.jsxs)("p",{className:"text-white text-xs font-medium",children:["Image ",a+1]})})]})]},a)),(0,t.jsxs)("label",{className:"aspect-square flex flex-col items-center justify-center border-2 border-dashed border-muted-foreground/50 rounded-md cursor-pointer hover:border-primary/70 transition-colors duration-200 bg-muted/20 text-muted-foreground",children:[(0,t.jsx)("input",{type:"file",className:"hidden",onChange:ay,accept:"image/*",disabled:(null==G?void 0:G.includes("Uploading"))||(null==G?void 0:G.includes("Deleting"))}),(0,t.jsx)("div",{className:"text-center",children:(null==G?void 0:G.includes("Uploading"))?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Z,{className:"w-8 h-8 mx-auto mb-2 animate-spin"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Uploading..."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(w.Z,{className:"w-8 h-8 mx-auto mb-2"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Add Photo"})]})})]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between pt-4 border-t border-border space-y-2 sm:space-y-0",children:[(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.length," / 12 images uploaded"]}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:"Supported formats: JPG, PNG, WebP (Max 5MB each)"})]})]})]})}),"Business Details"===s&&aS&&(0,t.jsxs)(c.Zb,{className:"bg-card border border-border shadow-lg",children:[(0,t.jsxs)(c.Ol,{children:[(0,t.jsx)(c.ll,{className:"text-foreground",children:"Business Details"}),(0,t.jsx)(c.SZ,{className:"text-muted-foreground",children:"Update your cafe's basic information"})]}),(0,t.jsxs)(c.aY,{className:"space-y-6",children:[(0,t.jsx)("div",{className:"space-y-4",children:[{key:"phone",label:"Phone",type:"tel",value:aS.phone||"+1 (555) 000-0000"},{key:"website",label:"Website",type:"url",value:aS.website||"https://cafe.example.com"},{key:"address",label:"Address",type:"textarea",value:aS.address||"123 Cafe Street, Food District, City, 12345"}].map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-3 rounded-lg border border-border hover:bg-muted/20 transition-colors",children:[(0,t.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,t.jsx)(i._,{className:"text-sm font-medium text-foreground",children:e.label}),em===e.key?(0,t.jsx)("div",{className:"space-y-2",children:"textarea"===e.type?(0,t.jsx)(o.g,{value:ex[e.key]||"",onChange:a=>an(e.key,a.target.value),className:"bg-input border-input text-foreground resize-none",rows:3}):(0,t.jsx)(n.I,{type:e.type,value:ex[e.key]||"",onChange:a=>an(e.key,a.target.value),className:"bg-input border-input text-foreground"})}):(0,t.jsx)("p",{className:"text-sm text-muted-foreground break-words",children:e.value||"No ".concat(e.label.toLowerCase()," provided")})]}),(0,t.jsx)("div",{className:"flex items-center space-x-2 shrink-0",children:em===e.key?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.z,{type:"button",variant:"outline",size:"sm",onClick:()=>ai(e.key),disabled:ep===e.key,className:"border-green-500/50 text-green-600 hover:bg-green-500/10 hover:border-green-500 disabled:opacity-50",children:ep===e.key?(0,t.jsx)(x.Z,{className:"h-4 w-4 animate-spin"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(k.Z,{className:"h-4 w-4 mr-1"}),"Save"]})}),(0,t.jsx)(l.z,{type:"button",variant:"outline",size:"sm",onClick:ao,disabled:ep===e.key,className:"border-gray-500/50 text-gray-600 hover:bg-gray-500/10 hover:border-gray-500",children:(0,t.jsx)(u.Z,{className:"h-4 w-4"})})]}):(0,t.jsx)(l.z,{type:"button",variant:"ghost",size:"sm",onClick:()=>al(e.key),disabled:null!==em,className:"text-muted-foreground hover:text-foreground hover:bg-muted p-2",children:(0,t.jsx)(h.Z,{className:"h-4 w-4"})})})]},e.key))}),(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"p-3 rounded-lg border border-border bg-muted/10",children:[(0,t.jsx)(i._,{className:"text-sm font-medium text-foreground",children:"Business Name"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:aS.businessName||"John's Cafe"})]}),(0,t.jsxs)("div",{className:"p-3 rounded-lg border border-border bg-muted/10",children:[(0,t.jsx)(i._,{className:"text-sm font-medium text-foreground",children:"Business Type"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1 capitalize",children:aS.businessType||"cafe"})]})]})})]})]}),"Operating Hours"===s&&(0,t.jsxs)(c.Zb,{className:"bg-card border border-border shadow-lg",children:[(0,t.jsxs)(c.Ol,{children:[(0,t.jsxs)(c.ll,{className:"text-foreground flex items-center gap-2",children:[(0,t.jsx)(y.Z,{className:"w-5 h-5"}),"Operating Hours"]}),(0,t.jsx)(c.SZ,{className:"text-muted-foreground",children:"Manage your cafe's working hours and slot durations"})]}),(0,t.jsx)(c.aY,{className:"space-y-6",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(i._,{className:"text-foreground",children:"Operating Hours"}),(0,t.jsx)("div",{className:"space-y-3",children:ea.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-3 rounded-lg border border-border hover:bg-muted/20 transition-colors",children:[(0,t.jsx)("div",{className:"w-20",children:(0,t.jsx)("span",{className:"text-sm font-medium text-foreground capitalize",children:e.day})}),(0,t.jsx)(d.X,{id:"day-".concat(e.day),checked:e.isEnabled,onCheckedChange:a=>ap(e.day,a),className:"border-border data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",disabled:null!==Q&&Q!==e.day}),(0,t.jsxs)("div",{className:"flex-1 grid grid-cols-2 gap-3",children:[(0,t.jsx)(n.I,{type:"time",value:e.open||"09:00",onChange:a=>ax(e.day,"open",a.target.value),className:"bg-input border-input text-foreground ".concat(e.isEnabled?"":"opacity-50"),disabled:Q!==e.day||!e.isEnabled}),(0,t.jsx)(n.I,{type:"time",value:e.close||"18:00",onChange:a=>ax(e.day,"close",a.target.value),className:"bg-input border-input text-foreground ".concat(e.isEnabled?"":"opacity-50"),disabled:Q!==e.day||!e.isEnabled})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(i._,{className:"text-xs text-muted-foreground whitespace-nowrap",children:"Duration:"}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(n.I,{type:"number",value:e.slotDurationMinutes||30,onChange:a=>ah(e.day,parseInt(a.target.value)||30),className:"w-16 bg-input border-input text-foreground text-center rounded-r-none border-r-0 ".concat(e.isEnabled?"":"opacity-50"),disabled:Q!==e.day||!e.isEnabled,min:"15",max:"240",step:"15"}),(0,t.jsx)("div",{className:"flex items-center justify-center mx-[-16px] px-2 py-1.5 bg-muted/50 border border-input rounded-r-md border-l-0 min-w-[32px]",children:(0,t.jsx)("span",{className:"text-xs text-muted-foreground mx-[-10px]",children:"min"})})]})]}),(0,t.jsx)("div",{className:"flex items-center space-x-2 shrink-0",children:Q===e.day?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.z,{type:"button",variant:"outline",size:"sm",onClick:()=>au(e.day),disabled:et===e.day,className:"border-green-500/50 text-green-600 hover:bg-green-500/10 hover:border-green-500 disabled:opacity-50",children:et===e.day?(0,t.jsx)(x.Z,{className:"h-4 w-4 animate-spin"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(k.Z,{className:"h-4 w-4 mr-1"}),"Save"]})}),(0,t.jsx)(l.z,{type:"button",variant:"outline",size:"sm",onClick:ag,disabled:et===e.day,className:"border-gray-500/50 text-gray-600 hover:bg-gray-500/10 hover:border-gray-500",children:(0,t.jsx)(u.Z,{className:"h-4 w-4"})})]}):(0,t.jsx)(l.z,{type:"button",variant:"ghost",size:"sm",onClick:()=>af(e.day),disabled:null!==Q,className:"text-muted-foreground hover:text-foreground hover:bg-muted p-2",children:(0,t.jsx)(h.Z,{className:"h-4 w-4"})})})]},a))})]})})]}),"Verified Documents"===s&&(0,t.jsxs)(c.Zb,{className:"bg-card border border-border shadow-lg",children:[(0,t.jsxs)(c.Ol,{children:[(0,t.jsx)(c.ll,{className:"text-foreground",children:"Verified Documents"}),(0,t.jsx)(c.SZ,{className:"text-muted-foreground",children:"Manage and preview your uploaded business documents"})]}),(0,t.jsx)(c.aY,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[aP&&aP.length>0?aP.map(e=>(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 rounded-lg border border-border hover:bg-muted/20 transition-colors duration-200",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4 mb-3 sm:mb-0",children:[(0,t.jsx)(C.Z,{className:(0,S.cn)("h-5 w-5","verified"===e.status?"text-green-500":"rejected"===e.status?"text-red-500":"text-yellow-500")}),(0,t.jsxs)("div",{children:[(0,t.jsx)("button",{onClick:()=>aj(e.documentUrl,e.name),className:"font-medium text-primary hover:text-primary/80 hover:underline cursor-pointer text-left disabled:opacity-50 disabled:cursor-not-allowed",disabled:!e.documentUrl,type:"button",children:e.name}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:[(0,t.jsxs)("p",{children:["Status: ",(0,t.jsx)("span",{className:(0,S.cn)("font-medium","verified"===e.status?"text-green-600":"rejected"===e.status?"text-red-600":"text-yellow-600"),children:e.status})]}),e.uploadedAt&&(0,t.jsxs)("p",{children:["Uploaded: ",new Date(e.uploadedAt).toLocaleDateString()]}),(0,t.jsxs)("p",{children:["Expires: ",e.expiry]})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 mt-3 sm:mt-0",children:[(0,t.jsx)(m.C,{variant:"verified"===e.status?"default":"rejected"===e.status?"destructive":"secondary",className:(0,S.cn)("verified"===e.status&&"bg-green-500/20 text-green-400","rejected"===e.status&&"bg-red-500/20 text-red-400","pending"===e.status&&"bg-yellow-500/20 text-yellow-400"),children:e.status}),e.documentUrl&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(l.z,{variant:"outline",size:"sm",onClick:()=>aj(e.documentUrl,e.name),type:"button",className:"border-border text-foreground hover:bg-muted hover:text-foreground",children:[(0,t.jsx)(C.Z,{className:"mr-1 h-4 w-4"}),"Preview"]}),(0,t.jsx)(l.z,{variant:"ghost",size:"sm",onClick:()=>window.open(e.documentUrl,"_blank"),type:"button",className:"text-muted-foreground hover:text-foreground hover:bg-muted",children:"Open"})]})]})]},e.id||e.name)):(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(C.Z,{className:"mx-auto h-12 w-12 text-muted-foreground"}),(0,t.jsx)("h3",{className:"mt-2 text-sm font-medium text-foreground",children:"No documents uploaded"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-muted-foreground",children:"Upload your business documents to get verified."})]}),(0,t.jsxs)(l.z,{variant:"outline",className:"w-full border-primary text-primary hover:bg-primary hover:text-primary-foreground",children:[(0,t.jsx)(v.Z,{className:"mr-2 h-4 w-4"}),"Upload New Document"]})]})})]}),"Bank Transfer"===s&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(c.Zb,{className:"content-card shadow-lg mb-6",children:[(0,t.jsxs)(c.Ol,{children:[(0,t.jsxs)(c.ll,{className:"card-title flex items-center gap-2",children:[(0,t.jsx)(j.Z,{className:"icon-lg"}),"Bank Transfer Details"]}),(0,t.jsx)(c.SZ,{className:"body-text-muted",children:"Manage your payment details for payouts"})]}),(0,t.jsxs)(c.aY,{className:"content-card-padding",children:[ey?(0,t.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,t.jsx)(x.Z,{className:"icon-xl animate-spin text-primary"}),(0,t.jsx)("span",{className:"body-text-muted ml-2",children:"Loading payment details..."})]}):ew?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between p-3 bg-muted/20 rounded-lg gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,t.jsx)(m.C,{variant:"outline",className:"badge-text",children:"bank"===eF?"Bank Account":"UPI Payment"}),(0,t.jsx)("span",{className:"body-text-small",children:"bank"===eF?"Complete bank account details":"UPI ID for payments"})]}),(0,t.jsx)(l.z,{type:"button",variant:"ghost",size:"sm",onClick:()=>{ek(!1),eA(!0)},className:"btn-secondary whitespace-nowrap",children:"Change Method"})]}),"bank"===eF?(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(i._,{className:"form-label",children:"Account Holder Name *"}),(0,t.jsx)(n.I,{value:ej.accountHolderName||"",onChange:e=>at("accountHolderName",e.target.value),placeholder:"Enter account holder name",className:"input-field",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(i._,{className:"form-label",children:"Bank Name *"}),(0,t.jsx)(n.I,{value:ej.bankName||"",onChange:e=>at("bankName",e.target.value),placeholder:"Enter bank name",className:"input-field",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(i._,{className:"form-label",children:"Account Number *"}),(0,t.jsx)(n.I,{value:ej.accountNumber||"",onChange:e=>at("accountNumber",e.target.value),placeholder:"Enter account number",className:"input-field",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(i._,{className:"form-label",children:"IFSC Code *"}),(0,t.jsx)(n.I,{value:ej.ifscCode||"",onChange:e=>at("ifscCode",e.target.value.toUpperCase()),placeholder:"Enter IFSC code",maxLength:11,className:"input-field",required:!0}),(0,t.jsx)("p",{className:"body-text-small mt-1",children:"11-character IFSC code (e.g., SBIN0000123)"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)(i._,{className:"form-label",children:"UPI ID (Optional)"}),(0,t.jsx)(n.I,{value:ej.upiId||"",onChange:e=>at("upiId",e.target.value),placeholder:"Enter UPI ID (optional)",className:"input-field"}),(0,t.jsx)("p",{className:"body-text-small mt-1",children:"You can also add UPI ID as backup payment method"})]})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(i._,{className:"form-label",children:"UPI ID *"}),(0,t.jsx)(n.I,{value:ej.upiId||"",onChange:e=>at("upiId",e.target.value),placeholder:"Enter UPI ID (e.g., yourname@paytm)",className:"input-field",required:!0}),(0,t.jsx)("p",{className:"body-text-small mt-1",children:"Enter your UPI ID like yourname@paytm, yourname@phonepe, yourname@gpay, etc."})]}),(0,t.jsx)("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:(0,t.jsxs)("p",{className:"body-text-small text-blue-800 dark:text-blue-200",children:[(0,t.jsx)("strong",{children:"Note:"})," With UPI payment method, you'll receive payouts directly to your UPI ID. Make sure the UPI ID is active and linked to your bank account."]})})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,t.jsx)(l.z,{type:"button",onClick:ar,disabled:eC,className:"btn-primary",children:eC?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Z,{className:"icon-md animate-spin mr-2"}),"Saving..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(k.Z,{className:"icon-md mr-2"}),"Save Details"]})}),(0,t.jsxs)(l.z,{type:"button",variant:"outline",onClick:()=>ek(!1),disabled:eC,className:"btn-secondary",children:[(0,t.jsx)(u.Z,{className:"icon-md mr-2"}),"Cancel"]})]})]}):eg?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4 flex-wrap",children:[(0,t.jsx)(m.C,{variant:"outline",className:"badge-text",children:eg.upiId&&!eg.accountNumber?"UPI Payment":eg.accountNumber&&!eg.upiId?"Bank Account":eg.accountNumber&&eg.upiId?"Bank Account + UPI":"Payment Details"}),(0,t.jsx)(m.C,{className:"badge-text ".concat("VERIFIED"===eg.verificationStatus?"bg-green-500/20 text-green-400":"REJECTED"===eg.verificationStatus?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"),children:eg.verificationStatus||"PENDING"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[eg.accountNumber&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(i._,{className:"form-label-small",children:"Account Holder Name"}),(0,t.jsx)("p",{className:"body-text font-medium break-words",children:eg.accountHolderName})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(i._,{className:"form-label-small",children:"Bank Name"}),(0,t.jsx)("p",{className:"body-text font-medium break-words",children:eg.bankName})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(i._,{className:"form-label-small",children:"Account Number"}),(0,t.jsx)("p",{className:"body-text font-medium break-words",children:eg.accountNumber})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(i._,{className:"form-label-small",children:"IFSC Code"}),(0,t.jsx)("p",{className:"body-text font-medium break-words",children:eg.ifscCode})]})]}),eg.upiId&&(0,t.jsxs)("div",{className:eg.accountNumber?"":"sm:col-span-2",children:[(0,t.jsx)(i._,{className:"form-label-small",children:"UPI ID"}),(0,t.jsx)("p",{className:"body-text font-medium break-words",children:eg.upiId})]}),!eg.accountNumber&&!eg.upiId&&(0,t.jsx)("div",{className:"sm:col-span-2 text-center py-4",children:(0,t.jsx)("p",{className:"body-text-muted",children:"No payment details available"})})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,t.jsxs)(l.z,{type:"button",onClick:()=>eA(!0),className:"btn-primary",children:[(0,t.jsx)(h.Z,{className:"icon-md mr-2"}),"Edit Payment Details"]}),"PENDING"===eg.verificationStatus&&(0,t.jsxs)(l.z,{type:"button",variant:"outline",className:"border-amber-200 text-amber-600 hover:bg-amber-50",disabled:!0,children:[(0,t.jsx)(y.Z,{className:"icon-md mr-2"}),"Verification Pending"]})]})]}):(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(j.Z,{className:"mx-auto icon-xl text-muted-foreground mb-4"}),(0,t.jsx)("h3",{className:"section-title mb-2",children:"No Payment Details Found"}),(0,t.jsx)("p",{className:"body-text-muted mb-4",children:"Add your payment details to receive payouts"}),(0,t.jsxs)(l.z,{type:"button",onClick:()=>eA(!0),className:"btn-primary",children:[(0,t.jsx)(j.Z,{className:"icon-md mr-2"}),"Add Payment Details"]})]}),eU&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:(0,t.jsx)(z.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"content-card max-w-md w-full mx-auto shadow-2xl",children:(0,t.jsxs)("div",{className:"content-card-padding space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"section-title mb-2",children:"Select Payment Method"}),(0,t.jsx)("p",{className:"body-text-muted",children:"Choose what type of payment method you want to add for receiving payouts"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-start space-x-3 p-4 rounded-lg border cursor-pointer transition-colors ".concat("bank"===eR?"border-primary bg-primary/10":"border-border hover:bg-muted/20"),onClick:()=>eB("bank"),children:[(0,t.jsx)("div",{className:"w-4 h-4 rounded-full border-2 flex items-center justify-center mt-1 flex-shrink-0 ".concat("bank"===eR?"border-primary":"border-border"),children:"bank"===eR&&(0,t.jsx)("div",{className:"w-2 h-2 rounded-full bg-primary"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(j.Z,{className:"icon-md text-primary flex-shrink-0"}),(0,t.jsx)("p",{className:"body-text font-medium",children:"Bank Account"})]}),(0,t.jsx)("p",{className:"body-text-small break-words",children:"Add complete bank details including account holder name, bank name, account number & IFSC code"})]})]}),(0,t.jsxs)("div",{className:"flex items-start space-x-3 p-4 rounded-lg border cursor-pointer transition-colors ".concat("upi"===eR?"border-primary bg-primary/10":"border-border hover:bg-muted/20"),onClick:()=>eB("upi"),children:[(0,t.jsx)("div",{className:"w-4 h-4 rounded-full border-2 flex items-center justify-center mt-1 flex-shrink-0 ".concat("upi"===eR?"border-primary":"border-border"),children:"upi"===eR&&(0,t.jsx)("div",{className:"w-2 h-2 rounded-full bg-primary"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(N.Z,{className:"icon-md text-green-500 flex-shrink-0"}),(0,t.jsx)("p",{className:"body-text font-medium",children:"UPI ID"})]}),(0,t.jsx)("p",{className:"body-text-small break-words",children:"Quick setup with just your UPI ID (e.g., yourname@paytm, yourname@phonepe)"})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[(0,t.jsx)(l.z,{type:"button",variant:"outline",onClick:()=>eA(!1),className:"btn-secondary flex-1",children:"Cancel"}),(0,t.jsx)(l.z,{type:"button",onClick:()=>{eO(eR),eA(!1),ek(!0)},className:"btn-primary flex-1",children:"Continue"})]})]})})})]})]}),(0,t.jsxs)(c.Zb,{className:"content-card shadow-lg",children:[(0,t.jsxs)(c.Ol,{children:[(0,t.jsxs)(c.ll,{className:"card-title flex items-center gap-2",children:[(0,t.jsx)(I.Z,{className:"icon-lg"}),"Payment Methods"]}),(0,t.jsx)(c.SZ,{className:"body-text-muted",children:"Select which payment methods you want to accept at your cafe"})]}),(0,t.jsxs)(c.aY,{className:"content-card-padding",children:[e2&&(0,t.jsxs)(z.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 p-3 rounded-md bg-green-500/20 text-green-400 border border-green-500/30 mb-4",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,t.jsx)("span",{className:"body-text-small font-medium flex-1 break-words",children:e2}),(0,t.jsx)(l.z,{variant:"ghost",size:"sm",onClick:e8,className:"ml-auto h-6 w-6 p-0 text-green-400 hover:text-green-300 flex-shrink-0",children:(0,t.jsx)(u.Z,{className:"icon-xs"})})]}),eQ&&(0,t.jsxs)(z.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 p-3 rounded-md bg-red-500/20 text-red-400 border border-red-500/30 mb-4",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),(0,t.jsx)("span",{className:"body-text-small font-medium flex-1 break-words",children:eQ}),(0,t.jsx)(l.z,{variant:"ghost",size:"sm",onClick:e8,className:"ml-auto h-6 w-6 p-0 text-red-400 hover:text-red-300 flex-shrink-0",children:(0,t.jsx)(u.Z,{className:"icon-xs"})})]}),eW?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,t.jsx)(x.Z,{className:"icon-xl animate-spin text-primary"}),(0,t.jsx)("span",{className:"body-text-small",children:"Loading payment methods..."})]})}):(0,t.jsx)("div",{className:"space-y-4",children:Array.isArray(eY)&&eY.length>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 bg-muted/30 rounded-lg border border-border gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"}),(0,t.jsxs)("span",{className:"body-text font-medium",children:["Available Payment Methods (",eY.length,")"]})]}),(0,t.jsxs)(m.C,{variant:"outline",className:"badge-text w-fit",children:[eY.filter(e=>e.is_enabled).length," Active"]})]}),(0,t.jsx)("div",{className:"space-y-3",children:eY.map((e,a)=>(0,t.jsx)(z.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1*a},className:"group",children:(0,t.jsxs)("div",{className:(0,S.cn)("flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 rounded-xl border transition-all duration-200 hover:shadow-md gap-3",e.is_enabled?"border-primary/50 bg-gradient-to-r from-primary/5 to-primary/10":"border-border bg-gradient-to-r from-transparent to-muted/20 hover:border-primary/30"),children:[(0,t.jsxs)("div",{className:"flex items-start sm:items-center space-x-4 flex-1 min-w-0 w-full sm:w-auto",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:"pay_at_cafe"===e.method_name?(0,t.jsx)("div",{className:(0,S.cn)("w-12 h-12 rounded-xl flex items-center justify-center border transition-colors",e.is_enabled?"bg-gradient-to-br from-blue-500/30 to-blue-600/30 border-blue-500/50":"bg-gradient-to-br from-blue-500/10 to-blue-600/10 border-blue-500/20"),children:(0,t.jsx)(_.Z,{className:(0,S.cn)("icon-lg transition-colors",e.is_enabled?"text-blue-600":"text-blue-400")})}):(0,t.jsx)("div",{className:(0,S.cn)("w-12 h-12 rounded-xl flex items-center justify-center border transition-colors",e.is_enabled?"bg-gradient-to-br from-purple-500/30 to-purple-600/30 border-purple-500/50":"bg-gradient-to-br from-purple-500/10 to-purple-600/10 border-purple-500/20"),children:(0,t.jsx)(j.Z,{className:(0,S.cn)("icon-lg transition-colors",e.is_enabled?"text-purple-600":"text-purple-400")})})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[(0,t.jsx)("h4",{className:"body-text font-semibold break-words",children:e.display_name}),e.is_enabled&&(0,t.jsx)(m.C,{variant:"default",className:"bg-green-500/20 text-green-500 border-green-500/30 badge-text",children:"Active"})]}),(0,t.jsx)("p",{className:"body-text-small break-words",children:e.description}),(0,t.jsxs)("div",{className:"mt-2 flex items-center gap-1 body-text-small flex-wrap",children:[(0,t.jsx)("div",{className:(0,S.cn)("w-1 h-1 rounded-full flex-shrink-0",e.is_enabled?"bg-green-500":"bg-gray-400")}),(0,t.jsx)("span",{className:(0,S.cn)(e.is_enabled?"text-green-600":"text-gray-500"),children:e.is_enabled?"Registered for your cafe":"Not registered"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4 w-full sm:w-auto sm:ml-auto",children:[(0,t.jsx)("div",{className:"text-left sm:text-right min-w-[70px] flex-1 sm:flex-initial",children:eK===e.pay_method_id?(0,t.jsx)("span",{className:"body-text-small text-primary font-medium",children:e.is_enabled?"Removing...":"Adding..."}):(0,t.jsx)("span",{className:(0,S.cn)("body-text-small font-semibold",e.is_enabled?"text-green-500":"text-gray-400"),children:e.is_enabled?"ACTIVE":"INACTIVE"})}),(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(aC,{enabled:e.is_enabled,onToggle:()=>e6(e.pay_method_id,e.is_enabled),disabled:null!==eK&&eK!==e.pay_method_id,loading:eK===e.pay_method_id,size:"default"})})]})]})},e.pay_method_id))}),(0,t.jsx)("div",{className:"mt-6 p-4 bg-gradient-to-r from-muted/20 to-muted/40 rounded-lg border border-border",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-start gap-3",children:[(0,t.jsx)("div",{className:"w-5 h-5 bg-blue-500/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,t.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[(0,t.jsx)("span",{className:"body-text font-medium",children:"Registration Status"}),(0,t.jsx)(m.C,{variant:eY.filter(e=>e.is_enabled).length>0?"default":"secondary",className:(0,S.cn)("badge-text",eY.filter(e=>e.is_enabled).length>0?"bg-green-500/20 text-green-500 border-green-500/30":"bg-amber-500/20 text-amber-600 border-amber-500/30"),children:eY.filter(e=>e.is_enabled).length>0?"Ready":"Setup Required"})]}),(0,t.jsx)("div",{className:"body-text-small break-words",children:0===eY.filter(e=>e.is_enabled).length?(0,t.jsx)("span",{className:"text-amber-600",children:"⚠️ Register at least one payment method to accept payments."}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-green-600",children:"✅ Registered methods: "}),(0,t.jsx)("span",{className:"font-medium",children:eY.filter(e=>e.is_enabled).map(e=>e.display_name).join(", ")})]})})]})]})})]}):(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-muted/50 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(I.Z,{className:"icon-xl text-muted-foreground"})}),(0,t.jsx)("h3",{className:"section-title mb-2",children:"No Payment Methods Available"}),(0,t.jsx)("p",{className:"body-text-muted mb-6 max-w-sm mx-auto",children:"No payment methods are available in the system. Please contact support."}),(0,t.jsx)(l.z,{type:"button",onClick:e3,disabled:eW,className:"btn-primary",children:eW?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Z,{className:"icon-md mr-2 animate-spin"}),"Refreshing..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(I.Z,{className:"icon-md mr-2"}),"Refresh"]})})]})})]})]})]}),"Payout History"===s&&(0,t.jsxs)(c.Zb,{className:"content-card shadow-lg",children:[(0,t.jsxs)(c.Ol,{children:[(0,t.jsxs)(c.ll,{className:"card-title flex items-center gap-2",children:[(0,t.jsx)(N.Z,{className:"icon-lg"}),"Payout History"]}),(0,t.jsx)(c.SZ,{className:"body-text-muted",children:"View your payout transaction history"})]}),(0,t.jsx)(c.aY,{className:"content-card-padding",children:eZ?(0,t.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,t.jsx)(x.Z,{className:"icon-xl animate-spin text-primary"}),(0,t.jsx)("span",{className:"body-text-muted ml-2",children:"Loading payout history..."})]}):Array.isArray(e_)&&e_.length>0?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"overflow-x-auto -mx-4 sm:-mx-6 px-4 sm:px-6",children:(0,t.jsxs)("table",{className:"w-full min-w-[800px] border-collapse border border-border rounded-lg",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"table-header",children:[(0,t.jsx)("th",{className:"table-cell table-header-text text-left whitespace-nowrap",children:"Date"}),(0,t.jsx)("th",{className:"table-cell table-header-text text-left whitespace-nowrap",children:"Amount"}),(0,t.jsx)("th",{className:"table-cell table-header-text text-left whitespace-nowrap",children:"Mode"}),(0,t.jsx)("th",{className:"table-cell table-header-text text-left whitespace-nowrap",children:"UTR Number"}),(0,t.jsx)("th",{className:"table-cell table-header-text text-left whitespace-nowrap",children:"Status"}),(0,t.jsx)("th",{className:"table-cell table-header-text text-left whitespace-nowrap",children:"Remarks"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-border",children:e_.map((e,a)=>(0,t.jsxs)("tr",{className:"table-row",children:[(0,t.jsx)("td",{className:"table-cell table-cell-text whitespace-nowrap",children:(null==e?void 0:e.payoutDate)?new Date(e.payoutDate).toLocaleDateString("en-IN"):"-"}),(0,t.jsxs)("td",{className:"table-cell table-cell-text font-medium whitespace-nowrap",children:[(0,t.jsx)(T.G,{icon:U.H0g,className:"w-3 h-3 mr-1"}),(null==e?void 0:e.amount)?parseFloat(e.amount).toFixed(2):"0.00"]}),(0,t.jsx)("td",{className:"table-cell table-cell-text whitespace-nowrap",children:(0,t.jsx)(m.C,{variant:"outline",className:"badge-text",children:(null==e?void 0:e.transferMode)||"NA"})}),(0,t.jsx)("td",{className:"table-cell table-cell-text whitespace-nowrap",children:(null==e?void 0:e.utrNumber)||"-"}),(0,t.jsx)("td",{className:"table-cell whitespace-nowrap",children:(0,t.jsx)(m.C,{className:(0,S.cn)("badge-text",(null==e?void 0:e.status)==="SUCCESS"?"bg-green-500/20 text-green-400":(null==e?void 0:e.status)==="FAILED"?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"),children:(null==e?void 0:e.status)||"PENDING"})}),(0,t.jsx)("td",{className:"table-cell table-cell-text max-w-[200px] truncate",children:(null==e?void 0:e.remarks)||"-"})]},(null==e?void 0:e.id)||a))})]})}),(0,t.jsx)("div",{className:"block sm:hidden text-center body-text-small text-muted-foreground border-t border-border pt-3",children:"← Scroll horizontally to view all columns →"}),ez>1&&(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 pt-4 flex-wrap",children:[(0,t.jsx)(l.z,{variant:"outline",size:"sm",onClick:()=>eD(Math.max(1,eP-1)),disabled:1===eP,className:"btn-secondary",children:"Previous"}),(0,t.jsxs)("span",{className:"body-text-small text-muted-foreground px-3",children:["Page ",eP," of ",ez]}),(0,t.jsx)(l.z,{variant:"outline",size:"sm",onClick:()=>eD(Math.min(ez,eP+1)),disabled:eP>=ez,className:"btn-secondary",children:"Next"})]})]}):(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(N.Z,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),(0,t.jsx)("h3",{className:"section-title mb-2",children:"No Payout History"}),(0,t.jsx)("p",{className:"body-text-muted",children:"Your payout transactions will appear here"})]})})]})]})})]})}),(0,t.jsx)(()=>Y?(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)(z.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-card rounded-lg p-4 md:p-6 max-w-5xl max-h-[90vh] w-full mx-auto shadow-2xl border border-border",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4 border-b border-border pb-3",children:[(0,t.jsxs)("h3",{className:"text-lg md:text-xl font-semibold text-foreground",children:["Preview: ",W]}),(0,t.jsx)(l.z,{variant:"ghost",size:"sm",onClick:aN,className:"text-muted-foreground hover:text-foreground",children:(0,t.jsx)(u.Z,{className:"h-5 w-5"})})]}),(0,t.jsx)("div",{className:"w-full h-[70vh] bg-muted rounded-md overflow-hidden",children:(0,t.jsx)("iframe",{src:Y,className:"w-full h-full border-0",title:"Document Preview"})}),(0,t.jsxs)("div",{className:"mt-4 flex justify-end space-x-2",children:[(0,t.jsx)(l.z,{onClick:aN,variant:"outline",className:"border-border text-foreground hover:bg-muted hover:text-foreground",children:"Close"}),(0,t.jsx)(l.z,{onClick:()=>window.open(Y,"_blank"),variant:"default",className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:"Open in New Tab"})]})]})}):null,{}),(0,t.jsx)(e=>{let{visible:a}=e;return a?(0,t.jsx)(z.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex flex-col items-center justify-center",children:(0,t.jsx)("div",{className:"bg-card border border-border rounded-lg p-8 shadow-2xl max-w-md mx-4",children:(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-4 text-center",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-muted rounded-full animate-spin border-t-primary"}),(0,t.jsx)("div",{className:"absolute inset-0 w-16 h-16 border-4 border-transparent rounded-full animate-ping border-t-primary/30"})]}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-foreground",children:"Updating Operating Hours"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm text-muted-foreground",children:[(0,t.jsx)("p",{children:"Please wait while we update your slot configurations."}),(0,t.jsx)("p",{className:"font-medium text-yellow-400",children:"This process may take 2-3 minutes."}),(0,t.jsx)("p",{children:"Please do not close this window or navigate away."})]}),(0,t.jsxs)("div",{className:"flex space-x-1",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce"}),(0,t.jsx)("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,t.jsx)("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})})}):null},{visible:null!==et}),e1&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:(0,t.jsx)("div",{className:"w-20 h-20 border-4 border-t-transparent animate-spin rounded-full border-t-2 border-b-2 border-emerald-500"})}),(0,t.jsx)(F,{isOpen:eH,onClose:()=>{eM(!1),eV(null)},onVerifySuccess:()=>{let e="Bank Transfer"===eL?"bank_transfer":"payout_history";eq(a=>new Set([...a,e])),A(eL),eV(null)},vendorId:L,pageType:"Bank Transfer"===eL?"bank_transfer":"payout_history",pageName:eL})]})}},75956:function(e,a,s){"use strict";var t=s(57437);s(2265),a.Z=e=>{let{size:a=48,className:s=""}=e;return(0,t.jsx)("div",{className:"flex justify-center items-center w-full h-full ".concat(s),children:(0,t.jsx)("div",{className:"animate-spin rounded-full border-t-2 border-b-2 border-emerald-500",style:{width:a,height:a}})})}},35974:function(e,a,s){"use strict";s.d(a,{C:function(){return i}});var t=s(57437);s(2265);var r=s(90535),l=s(94508);let n=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-600"}},defaultVariants:{variant:"default"}});function i(e){let{className:a,variant:s,...r}=e;return(0,t.jsx)("div",{className:(0,l.cn)(n({variant:s}),a),...r})}},62869:function(e,a,s){"use strict";s.d(a,{d:function(){return o},z:function(){return d}});var t=s(57437),r=s(2265),l=s(37053),n=s(90535),i=s(94508);let o=(0,n.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,a)=>{let{className:s,variant:r,size:n,asChild:d=!1,...c}=e,m=d?l.g7:"button";return(0,t.jsx)(m,{className:(0,i.cn)(o({variant:r,size:n,className:s})),ref:a,...c})});d.displayName="Button"},66070:function(e,a,s){"use strict";s.d(a,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return n},aY:function(){return c},ll:function(){return o}});var t=s(57437),r=s(2265),l=s(94508);let n=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});n.displayName="Card";let i=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...r})});i.displayName="CardHeader";let o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});o.displayName="CardTitle";let d=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",s),...r})});d.displayName="CardDescription";let c=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,l.cn)("p-6 pt-0",s),...r})});c.displayName="CardContent",r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,l.cn)("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter"},19060:function(e,a,s){"use strict";s.d(a,{X:function(){return o}});var t=s(57437),r=s(2265),l=s(9270),n=s(30401),i=s(94508);let o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.fC,{ref:a,className:(0,i.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...r,children:(0,t.jsx)(l.z$,{className:(0,i.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(n.Z,{className:"h-4 w-4"})})})});o.displayName=l.fC.displayName},95186:function(e,a,s){"use strict";s.d(a,{I:function(){return n}});var t=s(57437),r=s(2265),l=s(94508);let n=r.forwardRef((e,a)=>{let{className:s,type:r,...n}=e;return(0,t.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...n})});n.displayName="Input"},26815:function(e,a,s){"use strict";s.d(a,{_:function(){return d}});var t=s(57437),r=s(2265),l=s(6394),n=s(90535),i=s(94508);let o=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.f,{ref:a,className:(0,i.cn)(o(),s),...r})});d.displayName=l.f.displayName},76818:function(e,a,s){"use strict";s.d(a,{g:function(){return n}});var t=s(57437),r=s(2265),l=s(94508);let n=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...r})});n.displayName="Textarea"},94508:function(e,a,s){"use strict";s.d(a,{cn:function(){return l}});var t=s(61994),r=s(53335);function l(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,r.m6)((0,t.W)(a))}},38303:function(e,a,s){"use strict";s.d(a,{NV:function(){return n},ZE:function(){return l},m7:function(){return r},o5:function(){return o},o8:function(){return i},yj:function(){return d}});var t=s(40257);let r=t.env.NEXT_PUBLIC_DASHBOARD_URL,l=t.env.NEXT_PUBLIC_LOGIN_URL;t.env.NEXT_PUBLIC_USER_ONBOARD;let n=t.env.NEXT_PUBLIC_VENDOR_ONBOARD,i=t.env.NEXT_PUBLIC_BOOKING_URL,o=t.env.NEXT_PUBLIC_SOCKET_DASHBOARD_URL,d=t.env.NEXT_PUBLIC_RAZORPAY_KEY_ID||"rzp_test_viVAhwtbVdu1X4"}},function(e){e.O(0,[3676,7861,5585,4076,2957,6890,5333,2971,2117,1744],function(){return e(e.s=27739)}),_N_E=e.O()}]);