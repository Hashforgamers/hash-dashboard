exports.id=564,exports.ids=[564],exports.modules={2474:(e,a,t)=>{Promise.resolve().then(t.bind(t,61809)),Promise.resolve().then(t.bind(t,53485))},35303:()=>{},53485:(e,a,t)=>{"use strict";t.d(a,{default:()=>eb});var s=t(97247),r=t(28964),l=t.n(r),n=t(14814),i=t(97078),d=t(41688),o=t(25008),c=t(58053),m=t(27757),x=t(62752),g=t(37013),h=t(57989),u=t(95389),p=t(5271),b=t(8530),f=t(76285),y=t(20290),j=t(68918),N=t(60961),k=t(82103),v=t(8749),w=t(30754),_=t(99219),S=t(85767),C=t(61481),D=t(80987),Z=t(59314),$=t(85672),T=t(17712),E=t(18007),R=t(45333),P=t(62472),B=t(91044),z=t(2117),M=t(78812),F=t(54636);let A=new Map,I=e=>new Promise((a,t)=>{if(A.has(e)){a(A.get(e));return}let s=new Image;s.onload=()=>{A.set(e,s),a(s)},s.onerror=t,s.src=e}),O=({src:e,alt:a,className:t})=>{let[l,n]=(0,r.useState)(!1),[i,d]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{I(e).then(()=>n(!0)).catch(()=>d(!0))},[e]),i)?s.jsx("div",{className:`flex items-center justify-center bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 ${t}`,children:s.jsx(P.Z,{className:"text-green-500",size:32})}):(0,s.jsxs)("div",{className:`relative ${t}`,children:[!l&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20",children:s.jsx(v.Z,{className:"animate-spin text-green-500",size:24})}),s.jsx("img",{className:`h-full w-full object-cover transition-opacity duration-300 ${l?"opacity-100":"opacity-0"}`,src:e,alt:a,loading:"lazy"})]})},L=({vendorId:e,isOpen:a,onClose:t,onConfirm:l,initialSelectedMeals:i=[]})=>{let[d,o]=(0,r.useState)([]),[c,m]=(0,r.useState)(i),[x,h]=(0,r.useState)(!1),[u,p]=(0,r.useState)(""),[b,f]=(0,r.useState)(null);async function y(){h(!0),p("");try{let a=await fetch(`${R.m7}/api/vendor/${e}/extra-services`),t=await a.json();console.log(t),t.success?(o(t.categories||[]),t.categories&&t.categories.length>0&&f(t.categories[0].id)):(p("failed to load meals"),console.log(u))}catch(e){console.error(e),p("Error loading meals")}h(!1)}(0,r.useEffect)(()=>{a&&e&&y()},[a,e]),(0,r.useEffect)(()=>{m(i)},[i]);let j=(e,a,t)=>{a<=0?m(a=>a.filter(a=>a.menu_item_id!==e.id)):m(s=>{let r=s.findIndex(a=>a.menu_item_id===e.id),l={menu_item_id:e.id,name:e.name,price:e.price,quantity:a,total:e.price*a,category:t};if(r>=0){let e=[...s];return e[r]=l,e}return[...s,l]})},N=e=>c.find(a=>a.menu_item_id===e)?.quantity||0,k=()=>{l(c),t()},w=()=>c.reduce((e,a)=>e+a.quantity,0);return a?s.jsx(n.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm p-4",onClick:e=>e.target===e.currentTarget&&t(),children:(0,s.jsxs)(n.E.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-4xl h-[85vh] overflow-hidden rounded-xl bg-white shadow-2xl dark:bg-gray-900",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-300 p-4 dark:border-gray-700",children:[" ",(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[" ",(0,s.jsxs)("div",{className:"rounded-lg bg-green-700 p-2 text-white",children:[" ",s.jsx(P.Z,{size:20})," "]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[" ","Add Meals & Extras"]}),(0,s.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[" ",d.length," categories •"," ",d.reduce((e,a)=>e+a.menu_count,0)," items"]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"rounded-lg bg-green-600 px-4 py-2 text-sm text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-600",onClick:k,children:"Add to Order"}),(0,s.jsxs)("button",{className:"rounded-lg p-2 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:t,"aria-label":"Close",children:[s.jsx(g.Z,{size:20})," "]})]})]}),(0,s.jsxs)("div",{className:"flex h-[calc(85vh-120px)] overflow-hidden",children:[" ",(0,s.jsxs)("aside",{className:"w-56 overflow-auto border-r border-gray-200 bg-gray-50 p-3 dark:border-gray-700 dark:bg-gray-800",children:[" ",(0,s.jsxs)("h3",{className:"mb-3 text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase",children:[" ","Categories"]}),0===d.length&&s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"No categories"}),s.jsx("ul",{children:d.map(e=>(0,s.jsxs)("li",{className:"mb-1.5",children:[" ",(0,s.jsxs)("button",{className:`block w-full rounded-lg p-2 text-left transition-colors duration-200 ${b===e.id?"bg-green-200 text-green-800 dark:bg-green-900 dark:text-green-300":"hover:bg-green-100 dark:hover:bg-green-900/30"}`,onClick:()=>f(e.id),children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium text-sm",children:e.name})," ",(0,s.jsxs)("span",{className:"rounded-full bg-gray-300 px-1.5 py-0.5 text-xs font-semibold text-gray-700 dark:bg-gray-600 dark:text-gray-300",children:[" ",e.menu_count]})]}),e.description&&s.jsx("p",{className:"mt-1 text-xs text-gray-600 line-clamp-2 dark:text-gray-400",children:e.description})]})]},e.id))})]}),(0,s.jsxs)("section",{className:"flex-1 overflow-auto p-4",children:[" ",x&&(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3 h-64",children:[" ",s.jsx(v.Z,{size:36,className:"animate-spin text-green-600"})," ",s.jsx("p",{className:"text-green-800 dark:text-green-400 text-sm",children:"Loading meals…"})," "]}),u&&!x&&(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4 text-red-600 h-64",children:[s.jsx(B.Z,{size:48})," ",s.jsx("p",{className:"text-sm",children:u})," ",s.jsx("button",{onClick:y,className:"rounded bg-green-700 px-4 py-2 text-white hover:bg-green-800 text-sm",children:"Retry"})]}),!x&&!u&&0===d.length&&(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4 text-gray-400 h-64",children:[s.jsx(P.Z,{size:48})," ",s.jsx("p",{className:"text-sm",children:"No meals available"})," "]}),!x&&!u&&d.length>0&&b&&(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[" ",d.find(e=>e.id===b)?.menus?.map(e=>{let a=N(e.id);return s.jsxs(n.E.div,{layout:!0,className:`rounded-lg border-2 bg-white shadow-sm dark:bg-gray-700 ${a>0?"border-green-500 shadow-green-200":"border-gray-200 dark:border-gray-600"}`,whileHover:{y:-2},children:[s.jsxs("div",{className:"relative h-32 w-full overflow-hidden rounded-t-lg",children:[" ",e.images.length>0?s.jsx(O,{src:e.images[0].image_url,alt:e.name,className:"h-full w-full"}):s.jsxs("div",{className:"flex h-full w-full items-center justify-center bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20",children:[s.jsx(P.Z,{className:"text-green-500",size:32})," "]}),a>0&&s.jsxs("div",{className:"absolute right-2 top-2 rounded-lg bg-green-600 px-2 py-1 text-xs font-semibold text-white",children:[" ",a]})]}),s.jsxs("div",{className:"p-3",children:[" ",s.jsxs("h3",{className:"mb-1 font-semibold text-sm text-gray-900 dark:text-gray-200 line-clamp-1",children:[" ",e.name]}),e.description&&s.jsxs("p",{className:"mb-3 text-xs text-gray-600 dark:text-gray-400 line-clamp-2",children:[" ",e.description]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-1 text-green-600",children:[s.jsx(z.Z,{size:16})," ",s.jsx("span",{className:"text-lg font-bold",children:e.price})," "]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[" ",s.jsxs("button",{onClick:()=>j(e,a-1,d.find(e=>e.id===b)?.name||""),disabled:0===a,className:"flex h-7 w-7 items-center justify-center rounded-full bg-red-600 text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-red-700 transition-colors",children:[s.jsx(M.Z,{size:12})," "]}),s.jsxs("span",{className:"min-w-[20px] text-center font-semibold text-sm text-gray-900 dark:text-gray-100",children:[" ",a]}),s.jsxs("button",{onClick:()=>j(e,a+1,d.find(e=>e.id===b)?.name||""),className:"flex h-7 w-7 items-center justify-center rounded-full bg-green-600 text-white hover:bg-green-700 transition-colors",children:[s.jsx(_.Z,{size:12})," "]})]})]}),a>0&&s.jsxs(n.E.p,{layout:!0,className:"mt-2 text-right font-semibold text-green-700 text-sm",children:["Subtotal: ₹",(a*e.price).toFixed(2)]})]})]},e.id)})]})]})]}),(0,s.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 p-3 my-[-2vh]",children:[" ",(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[" ",w()," item",1!==w()?"s":""," selected"]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[s.jsx(z.Z,{className:"w-4 h-4 text-green-600"})," ",(0,s.jsxs)("span",{className:"text-xl font-bold text-green-600",children:[" ",c.reduce((e,a)=>e+a.total,0)]})]})]}),c.length>0&&s.jsx("button",{onClick:()=>m([]),className:"text-xs text-red-600 hover:text-red-700 underline",children:"Clear All"})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[" ",s.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors font-medium text-sm",children:"Cancel"}),(0,s.jsxs)("button",{onClick:k,className:"px-6 py-2 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg hover:from-green-700 hover:to-green-800 transition-all font-bold shadow-lg flex items-center gap-2 text-sm",children:[s.jsx(F.Z,{className:"w-4 h-4"})," ","Add to Order"]})]})]})]})]},"modal")},"overlay"):null};var U=t(94049),H=t(44283),X=t(2502),V=t(86416),q=t(67636),G=t(48799),J=t(44161);let Y=V.fC,Q=V.xz;V.ZA,V.Uv,V.Tr,V.Ee,r.forwardRef(({className:e,inset:a,children:t,...r},l)=>(0,s.jsxs)(V.fF,{ref:l,className:(0,o.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",e),...r,children:[t,s.jsx(q.Z,{className:"ml-auto"})]})).displayName=V.fF.displayName,r.forwardRef(({className:e,...a},t)=>s.jsx(V.tu,{ref:t,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})).displayName=V.tu.displayName;let W=r.forwardRef(({className:e,sideOffset:a=4,...t},r)=>s.jsx(V.Uv,{children:s.jsx(V.VY,{ref:r,sideOffset:a,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));W.displayName=V.VY.displayName;let K=r.forwardRef(({className:e,inset:a,...t},r)=>s.jsx(V.ck,{ref:r,className:(0,o.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",e),...t}));K.displayName=V.ck.displayName,r.forwardRef(({className:e,children:a,checked:t,...r},l)=>(0,s.jsxs)(V.oC,{ref:l,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:t,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(V.wU,{children:s.jsx(G.Z,{className:"h-4 w-4"})})}),a]})).displayName=V.oC.displayName,r.forwardRef(({className:e,children:a,...t},r)=>(0,s.jsxs)(V.Rk,{ref:r,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(V.wU,{children:s.jsx(J.Z,{className:"h-2 w-2 fill-current"})})}),a]})).displayName=V.Rk.displayName,r.forwardRef(({className:e,inset:a,...t},r)=>s.jsx(V.__,{ref:r,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",e),...t})).displayName=V.__.displayName,r.forwardRef(({className:e,...a},t)=>s.jsx(V.Z0,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",e),...a})).displayName=V.Z0.displayName;var ee=t(70591),ea=t(58772),et=t(75720),es=t(49256);t(10863);let er=new Map,el=new Map,en=["Cash","UPI","Pass"];function ei({isOpen:e,onClose:a,selectedSlots:t,onBookingComplete:l,availableConsoles:S}){console.log("\uD83C\uDFAF SlotBookingForm rendered with:",{isOpen:e,selectedSlotsCount:t.length,selectedSlots:t});let[C,D]=(0,r.useState)(""),[Z,$]=(0,r.useState)(""),[T,E]=(0,r.useState)(""),[P,B]=(0,r.useState)("Cash"),[z,M]=(0,r.useState)(""),[F,A]=(0,r.useState)(null),[I,O]=(0,r.useState)(!1),[U,H]=(0,r.useState)(""),[X,V]=(0,r.useState)(!1),[q,G]=(0,r.useState)(0),[J,Y]=(0,r.useState)(0),[Q,W]=(0,r.useState)(0),[K,ee]=(0,r.useState)([]),[ea,et]=(0,r.useState)(!1),[es,er]=(0,r.useState)(!1),[el,ei]=(0,r.useState)(!1),[ed,eo]=(0,r.useState)({}),[ec,em]=(0,r.useState)({}),[ex,eg]=(0,r.useState)([]),[eh,eu]=(0,r.useState)([]),[ep,eb]=(0,r.useState)([]),[ef,ey]=(0,r.useState)([]),[ej,eN]=(0,r.useState)(""),ek=(0,r.useRef)(null),ev=()=>{console.log("\uD83D\uDD0D Getting vendor ID from token...");let e=localStorage.getItem("jwtToken");if(!e)return console.log("❌ No JWT token found"),null;try{let a=(0,d.o)(e);console.log("\uD83D\uDD13 Decoded token:",a);let t=a.sub.id;return console.log("\uD83C\uDFEA Extracted vendor ID:",t),t}catch(e){return console.error("❌ Error decoding token:",e),null}},ew=async e=>{let a=ev();if(!a)return null;if(e.trim()&&a){O(!0),H("");try{let s=await fetch(`${R.o8}/api/pass/validate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pass_uid:e.trim(),vendor_id:a})}),r=await s.json();if(s.ok&&r.valid){A(r.pass),H("");let e=.5*t.length;e>r.pass.remaining_hours&&H(`Insufficient hours. Need ${e} hrs, available ${r.pass.remaining_hours} hrs`)}else H(r.error||"Invalid pass"),A(null)}catch(e){H("Failed to validate pass"),A(null)}finally{O(!1)}}},e_=(e,a)=>a.trim()?ex.filter(t=>t[e].toLowerCase().includes(a.toLowerCase())):ex,eS=e=>{$(e),eu(e_("email",e)),eN("email")},eC=e=>{E(e),eb(e_("phone",e)),eN("phone")},eD=e=>{D(e),ey(e_("name",e)),eN("name")},eZ=()=>{ek.current=window.setTimeout(()=>{eN(""),eu([]),eb([]),ey([]),ek.current=null},150)},e$=e=>{console.log("\uD83D\uDC64 User suggestion clicked:",e),ek.current&&(clearTimeout(ek.current),ek.current=null),$(e.email),E(e.phone),D(e.name),eu([]),eb([]),ey([]),eN("")},eT=e=>{let a=ec[e.console_name.toLowerCase()]||Object.values(ec).find(a=>a.console_type.toLowerCase()===e.console_name.toLowerCase());return a?a.price:e.console_price},eE=K.reduce((e,a)=>e+a.total,0),eR=t.reduce((e,a)=>e+eT(a),0),eP=Math.max(0,eR-q-Q+J+eE);console.log("\uD83D\uDCB0 Pricing calculation:",{consoleTotal:eR,mealsTotal:eE,waiveOffAmount:q,autoWaiveOffAmount:Q,extraControllerFare:J,totalAmount:eP});let eB=()=>{console.log("✅ Validating form...");let e={};return C.trim()||(e.name="Name is required"),Z.trim()?/\S+@\S+\.\S+/.test(Z)||(e.email="Email is invalid"):e.email="Email is required",T.trim()||(e.phone="Phone number is required"),0===t.length&&(e.slots="Please select at least one time slot"),P||(e.payment="Please select a payment method"),"Pass"===P&&(z.trim()?F?U&&(e.pass=U):e.pass="Please validate the pass first":e.pass="Please enter pass UID"),eo(e),console.log("✅ Form validation result:",{isValid:0===Object.keys(e).length,errors:e}),0===Object.keys(e).length},ez=async e=>{if(e.preventDefault(),console.log("\uD83D\uDE80 Form submission started"),!eB()){console.log("❌ Form validation failed");return}let a=ev();if(!a){console.log("❌ No vendor ID, cannot submit"),alert("Please login again");return}er(!0),console.log("\uD83D\uDCDD Preparing booking data...");try{if("Pass"===P&&F){let e=.5*t.length,s=await fetch(`${R.o8}/api/pass/redeem/dashboard`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pass_uid:z.trim(),vendor_id:a,hours_to_deduct:e,session_start:t[0]?.start_time.slice(0,5),session_end:t[t.length-1]?.end_time.slice(0,5),notes:`Booking for ${t[0]?.console_name} - ${t.length} slots`})}),r=await s.json();if(!s.ok||!r.success){alert(`Pass redemption failed: ${r.error}`),er(!1);return}}let e={consoleType:t[0]?.console_name||"",name:C,email:Z,phone:T,bookedDate:t[0]?.date||"",slotId:t.map(e=>e.slot_id),paymentType:P,waiveOffAmount:q+Q,extraControllerFare:J,selectedMeals:K.map(e=>({menu_item_id:e.menu_item_id,quantity:e.quantity})),bookingMode:X?"private":"regular"};console.log("\uD83D\uDCE4 Submitting booking data:",e);let s=await fetch(`${R.o8}/api/newBooking/vendor/${a}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(console.log("\uD83D\uDCE5 API response status:",s.status),!s.ok){let e=await s.json().catch(()=>({}));throw Error(e.message||"Failed to submit booking")}let r=await s.json();if(console.log("\uD83D\uDCE5 API response data:",r),s.ok||!0===r.success||"true"===r.success){console.log("✅ Booking created successfully!"),ei(!0);let e="userList",t=localStorage.getItem(e);if(t)try{let{data:s,timestamp:r}=JSON.parse(t);if(!s.some(e=>e.email===Z||e.phone===T)){console.log("\uD83D\uDC64 New user detected, refreshing user cache...");let t=await fetch(`${R.o8}/api/vendor/${a}/users`),s=await t.json();Array.isArray(s)&&(localStorage.setItem(e,JSON.stringify({data:s,timestamp:Date.now()})),console.log("✅ User cache updated with new user"))}}catch(e){console.error("❌ Error checking or updating user cache:",e)}}else console.log("❌ Unexpected response format:",r),alert(`Error: ${r.message||"Unexpected response from server"}`)}catch(e){console.error("❌ Error submitting booking:",e),alert("Failed to create booking")}finally{er(!1),console.log("\uD83C\uDFC1 Form submission completed")}};return el?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:(0,s.jsxs)(n.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-8 text-center",children:[s.jsx(n.E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:20},className:"w-16 h-16 mx-auto mb-6 rounded-full bg-gradient-to-r from-emerald-500 to-green-500 flex items-center justify-center shadow-lg",children:s.jsx(x.Z,{className:"w-8 h-8 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-3",children:"Booking Confirmed!"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Your slot booking has been successfully created."}),(0,s.jsxs)("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 rounded-lg p-4 mb-6 text-left",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center py-2",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Console Type:"}),s.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:t[0]?.console_name})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center py-2",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Slots:"}),s.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:t.length})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center py-2",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Meals & Extras:"}),s.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:0===K.length?"None":K.map(e=>`${e.name} (${e.quantity})`).join(", ")})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center py-2 border-t border-emerald-200 dark:border-emerald-700",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Amount:"}),(0,s.jsxs)("span",{className:"font-bold text-emerald-600 text-xl",children:["₹",eP]})]})]}),s.jsx(c.z,{onClick:()=>{l(),a(),ei(!1)},className:"w-full bg-gradient-to-r from-emerald-600 to-green-600 hover:from-emerald-700 hover:to-green-700",children:"Create Another Booking"})]})}):e?s.jsx(i.M,{children:s.jsx(n.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:(0,s.jsxs)(n.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"w-full max-w-6xl max-h-[95vh] overflow-y-auto bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 shadow-2xl",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"New Slot Booking"}),s.jsx("button",{onClick:a,className:"p-2 rounded-lg bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white transition-colors",children:s.jsx(g.Z,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"p-6",children:(0,s.jsxs)("form",{onSubmit:ez,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,s.jsxs)(m.Zb,{className:"p-4 bg-emerald-50 dark:bg-emerald-900/20 border-emerald-200 dark:border-emerald-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-emerald-800 dark:text-emerald-200 mb-3",children:"Selected Time Slots"}),(0,s.jsxs)("div",{className:"space-y-2",children:[t.map((e,a)=>(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm bg-white dark:bg-gray-800 rounded-lg p-3",children:[(0,s.jsxs)("span",{className:"text-gray-700 dark:text-gray-300",children:[s.jsx("strong",{children:new Date(e.date).toLocaleDateString("en-GB")})," • ",e.start_time.slice(0,5),"-",e.end_time.slice(0,5)," • ",e.console_name]}),s.jsx("span",{className:"flex items-center gap-2 font-semibold",children:(()=>{let a=ec[e.console_name.toLowerCase()]||Object.values(ec).find(a=>a.console_type.toLowerCase()===e.console_name.toLowerCase()),t=a?.is_offer;return(0,s.jsxs)(s.Fragment,{children:[t&&(0,s.jsxs)("span",{className:"line-through text-gray-400 text-xs",children:["₹",e.console_price]}),(0,s.jsxs)("span",{className:t?"text-orange-500":"text-emerald-600 dark:text-emerald-400",children:["₹",eT(e)]}),t&&(0,s.jsxs)("span",{className:"text-xs bg-orange-100 dark:bg-orange-900/30 text-orange-600 px-1.5 py-0.5 rounded-full",children:["\uD83C\uDFF7️ ",a?.offer_name]})]})})()})]},a)),s.jsx("div",{className:"text-right pt-2 border-t border-emerald-200 dark:border-emerald-700",children:(0,s.jsxs)("span",{className:"text-emerald-700 dark:text-emerald-300 font-bold",children:["Slots Total: ₹",eR]})})]})]}),(0,s.jsxs)(m.Zb,{className:"p-6 bg-gray-50 dark:bg-gray-700/30",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"p-1 bg-emerald-100 dark:bg-emerald-900/30 rounded",children:s.jsx(h.Z,{className:"w-4 h-4 text-emerald-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Customer Information"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"relative",children:[s.jsx("input",{type:"email",value:Z,onChange:e=>eS(e.target.value),onFocus:()=>{ek.current&&(clearTimeout(ek.current),ek.current=null),eN("email"),eu(e_("email",Z))},onBlur:eZ,autoComplete:"off",placeholder:"Email",className:(0,o.cn)("w-full pl-10 pr-4 py-3 bg-white dark:bg-gray-800 border rounded-lg transition-all duration-200",ed.email?"border-red-500 focus:border-red-500":"email"===ej?"border-emerald-500 focus:border-emerald-500":"border-gray-300 dark:border-gray-600 focus:border-emerald-500","focus:outline-none focus:ring-1 focus:ring-emerald-500/20")}),s.jsx(u.Z,{className:"w-4 h-4 text-gray-400 absolute left-3 top-3.5"}),s.jsx(i.M,{children:"email"===ej&&eh.length>0&&s.jsx(n.E.ul,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:"absolute z-20 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg w-full mt-1 max-h-40 overflow-y-auto",children:eh.slice(0,5).map((e,a)=>s.jsx(n.E.li,{whileHover:{backgroundColor:"rgba(16, 185, 129, 0.1)"},className:"px-3 py-2 hover:bg-emerald-50 dark:hover:bg-emerald-900/30 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0",onMouseDown:()=>e$(e),children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-1 bg-emerald-100 dark:bg-emerald-900/30 rounded-full",children:s.jsx(p.Z,{className:"w-3 h-3 text-emerald-600"})}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"font-medium text-gray-800 dark:text-white text-sm",children:e.name}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-xs",children:e.email})]})]})},a))})}),ed.email&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:ed.email})]}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx("input",{type:"tel",value:T,onChange:e=>eC(e.target.value),onFocus:()=>{ek.current&&(clearTimeout(ek.current),ek.current=null),eN("phone"),eb(e_("phone",T))},onBlur:eZ,autoComplete:"off",placeholder:"Phone",className:(0,o.cn)("w-full pl-10 pr-4 py-3 bg-white dark:bg-gray-800 border rounded-lg transition-all duration-200",ed.phone?"border-red-500 focus:border-red-500":"phone"===ej?"border-emerald-500 focus:border-emerald-500":"border-gray-300 dark:border-gray-600 focus:border-emerald-500","focus:outline-none focus:ring-1 focus:ring-emerald-500/20")}),s.jsx(b.Z,{className:"w-4 h-4 text-gray-400 absolute left-3 top-3.5"}),s.jsx(i.M,{children:"phone"===ej&&ep.length>0&&s.jsx(n.E.ul,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:"absolute z-20 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg w-full mt-1 max-h-40 overflow-y-auto",children:ep.slice(0,5).map((e,a)=>s.jsx(n.E.li,{whileHover:{backgroundColor:"rgba(16, 185, 129, 0.1)"},className:"px-3 py-2 hover:bg-emerald-50 dark:hover:bg-emerald-900/30 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0",onMouseDown:()=>e$(e),children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-1 bg-emerald-100 dark:bg-emerald-900/30 rounded-full",children:s.jsx(p.Z,{className:"w-3 h-3 text-emerald-600"})}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"font-medium text-gray-800 dark:text-white text-sm",children:e.name}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-xs",children:e.phone})]})]})},a))})}),ed.phone&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:ed.phone})]}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx("input",{type:"text",value:C,onChange:e=>eD(e.target.value),onFocus:()=>{ek.current&&(clearTimeout(ek.current),ek.current=null),eN("name"),ey(e_("name",C))},onBlur:eZ,placeholder:"Full name",className:(0,o.cn)("w-full pl-10 pr-4 py-3 bg-white dark:bg-gray-800 border rounded-lg transition-all duration-200",ed.name?"border-red-500 focus:border-red-500":"name"===ej?"border-emerald-500 focus:border-emerald-500":"border-gray-300 dark:border-gray-600 focus:border-emerald-500","focus:outline-none focus:ring-1 focus:ring-emerald-500/20")}),s.jsx(p.Z,{className:"w-4 h-4 text-gray-400 absolute left-3 top-3.5"}),s.jsx(i.M,{children:"name"===ej&&ef.length>0&&s.jsx(n.E.ul,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:"absolute z-20 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg w-full mt-1 max-h-40 overflow-y-auto",children:ef.slice(0,5).map((e,a)=>s.jsx(n.E.li,{whileHover:{backgroundColor:"rgba(16, 185, 129, 0.1)"},className:"px-3 py-2 hover:bg-emerald-50 dark:hover:bg-emerald-900/30 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0",onMouseDown:()=>e$(e),children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-1 bg-emerald-100 dark:bg-emerald-900/30 rounded-full",children:s.jsx(p.Z,{className:"w-3 h-3 text-emerald-600"})}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"font-medium text-gray-800 dark:text-white text-sm",children:e.name}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-xs",children:e.email})]})]})},a))})}),ed.name&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:ed.name})]})]})]}),(0,s.jsxs)(m.Zb,{className:"p-4 bg-gray-50 dark:bg-gray-700/30",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:(0,o.cn)("p-2 rounded-lg transition-all duration-300",X?"bg-gradient-to-br from-purple-500 to-pink-500":"bg-gray-300 dark:bg-gray-600"),children:X?s.jsx(f.Z,{className:"w-5 h-5 text-white"}):s.jsx(h.Z,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-gray-800 dark:text-white flex items-center gap-2",children:X?(0,s.jsxs)(s.Fragment,{children:[s.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"Private Booking"}),s.jsx("span",{className:"text-xs bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 px-2 py-0.5 rounded-full font-medium",children:"Manual Mode"})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Regular Booking"}),s.jsx("span",{className:"text-xs bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 px-2 py-0.5 rounded-full font-medium",children:"Standard Mode"})]})}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5",children:X?"Walk-in or manual booking for internal tracking":"Online booking with standard workflow"})]})]}),(0,s.jsxs)(n.E.button,{type:"button",onClick:()=>V(!X),whileTap:{scale:.95},className:(0,o.cn)("relative inline-flex h-8 w-14 items-center rounded-full transition-all duration-300","focus:outline-none focus:ring-2 focus:ring-offset-2",X?"bg-gradient-to-r from-purple-600 to-pink-600 focus:ring-purple-500":"bg-gray-300 dark:bg-gray-600 focus:ring-gray-400"),children:[s.jsx("span",{className:"sr-only",children:"Toggle private mode"}),s.jsx(n.E.span,{animate:{x:X?28:4},transition:{type:"spring",stiffness:500,damping:30},className:"inline-block h-6 w-6 transform rounded-full bg-white shadow-lg"})]})]}),s.jsx(i.M,{children:X&&(0,s.jsxs)(n.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3 flex items-start gap-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg p-2.5 border border-purple-200 dark:border-purple-700",children:[s.jsx(y.Z,{className:"w-4 h-4 text-purple-600 dark:text-purple-400 flex-shrink-0 mt-0.5"}),s.jsx("div",{className:"flex-1",children:(0,s.jsxs)("p",{className:"text-xs text-purple-800 dark:text-purple-200",children:[s.jsx("strong",{children:"Private Mode Active:"})," This booking will be marked as a private/walk-in booking for internal tracking."]})})]})})]}),(0,s.jsxs)(m.Zb,{className:"p-6 bg-gray-50 dark:bg-gray-700/30",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"p-1 bg-yellow-100 dark:bg-yellow-900/30 rounded",children:s.jsx(j.Z,{className:"w-4 h-4 text-yellow-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Payment Method"})]}),s.jsx("div",{className:"grid grid-cols-3 gap-4",children:en.map(e=>s.jsx(n.E.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{B(e),"Pass"!==e&&(M(""),A(null),H("")),ed.payment&&eo(e=>({...e,payment:""}))},className:(0,o.cn)("p-4 rounded-lg border transition-all duration-200",P===e?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300":"border-gray-300 dark:border-gray-600 hover:border-emerald-300 hover:bg-emerald-50/50 dark:hover:bg-emerald-900/20"),children:(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2",children:["Cash"===e&&s.jsx(N.Z,{className:"w-5 h-5"}),"UPI"===e&&s.jsx(j.Z,{className:"w-5 h-5"}),"Pass"===e&&s.jsx(k.Z,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:e})]})},e))}),s.jsx(i.M,{children:"Pass"===P&&(0,s.jsxs)(n.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 space-y-2",children:[(0,s.jsxs)("div",{className:"relative",children:[s.jsx("input",{type:"text",value:z,onChange:e=>M(e.target.value.toUpperCase()),onBlur:()=>{z.trim()&&ew(z)},placeholder:"Enter Pass UID (HFG-XXXXXXXXXXXX)",className:"w-full px-3 py-2 bg-white dark:bg-gray-800 rounded border border-gray-300 dark:border-gray-600 focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/20 transition-all duration-200 text-sm"}),I&&s.jsx(v.Z,{className:"w-4 h-4 animate-spin text-emerald-600 absolute right-3 top-2.5"})]}),F&&!U&&s.jsx(n.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-emerald-50 dark:bg-emerald-900/20 rounded-lg p-2 border border-emerald-200 dark:border-emerald-700",children:(0,s.jsxs)("div",{className:"flex items-start gap-2",children:[s.jsx(x.Z,{className:"w-4 h-4 text-emerald-600 flex-shrink-0 mt-0.5"}),(0,s.jsxs)("div",{className:"flex-1 text-xs space-y-1",children:[s.jsx("p",{className:"font-semibold text-emerald-800 dark:text-emerald-200",children:F.pass_name}),(0,s.jsxs)("div",{className:"flex justify-between text-emerald-700 dark:text-emerald-300",children:[s.jsx("span",{children:"Hours Available"}),(0,s.jsxs)("span",{className:"font-bold",children:[F.remaining_hours,"/",F.total_hours]})]}),t.length>0&&(0,s.jsxs)("div",{className:"flex justify-between text-emerald-600 dark:text-emerald-400",children:[s.jsx("span",{children:"Hours Needed"}),(0,s.jsxs)("span",{className:"font-bold",children:[.5*t.length," hrs"]})]})]})]})}),U&&(0,s.jsxs)(n.E.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"text-xs text-red-500 flex items-center gap-1",children:[s.jsx(g.Z,{className:"w-3 h-3"}),U]}),ed.pass&&s.jsx(n.E.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"text-xs text-red-500",children:ed.pass})]})}),ed.payment&&s.jsx("p",{className:"text-red-500 text-sm mt-2",children:ed.payment})]})]}),s.jsx("div",{className:"space-y-6",children:(0,s.jsxs)(m.Zb,{className:"p-6 bg-gray-50 dark:bg-gray-700/30",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"p-1 bg-indigo-100 dark:bg-indigo-900/30 rounded",children:s.jsx(w.Z,{className:"w-4 h-4 text-indigo-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Pricing Summary"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-600",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Console Total:"}),(0,s.jsxs)("span",{className:"font-medium text-gray-800 dark:text-white",children:["₹",eR]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-600",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Manual Waive Off:"}),s.jsx("input",{type:"number",value:q,onChange:e=>G(Number(e.target.value)||0),placeholder:"₹0",className:"w-20 text-right px-2 py-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-800 dark:text-white focus:border-emerald-500 focus:outline-none transition-colors",min:0})]}),Q>0&&(0,s.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-600 bg-orange-50 dark:bg-orange-900/20 rounded-lg px-3",children:[s.jsx("span",{className:"text-orange-600 dark:text-orange-400 font-medium",children:"⏰ Auto Waive Off:"}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("span",{className:"font-bold text-orange-600 dark:text-orange-400",children:["₹",Math.round(Q)]}),s.jsx("div",{className:"text-xs text-orange-500 dark:text-orange-300",children:"(Time-based discount)"})]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-600",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Extra Controller:"}),s.jsx("input",{type:"number",value:J,onChange:e=>Y(Number(e.target.value)||0),placeholder:"₹0",className:"w-20 text-right px-2 py-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-800 dark:text-white focus:border-emerald-500 focus:outline-none transition-colors",min:0})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-600",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Meals & Extras:"}),(0,s.jsxs)("button",{type:"button",onClick:()=>et(!0),className:"flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-emerald-100 to-green-100 dark:from-emerald-900/30 dark:to-green-900/30 text-emerald-700 dark:text-emerald-300 rounded-lg text-sm hover:from-emerald-200 hover:to-green-200 dark:hover:from-emerald-900/50 dark:hover:to-green-900/50 transition-all duration-200 border border-emerald-200 dark:border-emerald-700",children:[s.jsx(_.Z,{className:"w-3 h-3"}),0===K.length?"Add Meals":`${K.length} Selected`]})]}),K.length>0&&s.jsx("div",{className:"py-2 border-b border-gray-200 dark:border-gray-600",children:(0,s.jsxs)("div",{className:"space-y-2",children:[K.map(e=>s.jsx("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 rounded-lg p-3",children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("span",{className:"font-medium text-emerald-800 dark:text-emerald-200 text-sm",children:e.name}),(0,s.jsxs)("div",{className:"text-xs text-emerald-600 dark:text-emerald-400 mt-1",children:[e.category," • ₹",e.price," \xd7 ",e.quantity]})]}),(0,s.jsxs)("span",{className:"font-bold text-emerald-700 dark:text-emerald-300 text-sm",children:["₹",e.total]})]})},e.menu_item_id)),s.jsx("div",{className:"text-right pt-2 border-t border-emerald-200 dark:border-emerald-700",children:(0,s.jsxs)("span",{className:"text-sm font-bold text-emerald-600 dark:text-emerald-400",children:["Meals Total: ₹",eE]})})]})}),(0,s.jsxs)("div",{className:"flex justify-between items-center py-3 bg-emerald-50 dark:bg-emerald-900/30 rounded-lg px-3",children:[s.jsx("span",{className:"font-bold text-gray-800 dark:text-white text-lg",children:"Final Total:"}),(0,s.jsxs)("span",{className:"font-bold text-2xl text-emerald-600",children:["₹",eP]})]})]})]})})]}),(0,s.jsxs)("div",{className:"flex gap-4 pt-6 border-t border-gray-200 dark:border-gray-700",children:[s.jsx(c.z,{type:"button",onClick:a,variant:"outline",className:"flex-1 bg-white hover:bg-gray-50 border-gray-300 text-gray-700 hover:text-gray-900 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-600 dark:hover:text-white",children:"Cancel"}),s.jsx(c.z,{type:"submit",disabled:es,className:"flex-1 bg-gradient-to-r from-emerald-600 to-green-600 hover:from-emerald-700 hover:to-green-700 text-white disabled:opacity-50",children:es?(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(v.Z,{className:"w-4 h-4 animate-spin"}),"Creating Booking..."]}):(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(x.Z,{className:"w-4 h-4"}),"Complete Booking - ₹",eP]})})]})]})}),s.jsx(L,{vendorId:ev()||0,isOpen:ea,onClose:()=>{console.log("\uD83C\uDF7D️ Meal selector closed"),et(!1)},onConfirm:e=>{console.log("\uD83C\uDF7D️ Meals confirmed:",e),ee(e),et(!1)},initialSelectedMeals:K})]})})}):null}function ed({label:e,color:a,icon:t,onClick:r,selected:l=!1,disabled:n=!1}){return(0,s.jsxs)("button",{onClick:r,disabled:n,className:(0,o.cn)("w-full h-full min-h-[36px] flex items-center justify-center rounded-md text-[10px] font-bold uppercase tracking-wide","transition-all duration-200 cursor-pointer",n&&"cursor-not-allowed opacity-60",{green:l?"bg-emerald-600 text-white ring-2 ring-emerald-400 shadow-lg":"bg-emerald-600 text-white hover:bg-emerald-700",blue:l?"bg-emerald-600 text-white ring-2 ring-emerald-400 shadow-lg":"bg-blue-600 text-white hover:bg-blue-700",purple:l?"bg-emerald-600 text-white ring-2 ring-emerald-400 shadow-lg":"bg-purple-600 text-white hover:bg-purple-700",yellow:l?"bg-emerald-600 text-white ring-2 ring-emerald-400 shadow-lg":"bg-yellow-500 text-white hover:bg-yellow-600",red:"bg-red-600 text-white"}[a]),children:[t?s.jsx(t,{className:"h-3 w-3 mr-0.5"}):null,s.jsx("span",{className:"truncate",children:e})]})}function eo({children:e,active:a=!1,icon:t,onClick:r}){return(0,s.jsxs)("button",{type:"button",onClick:r,className:(0,o.cn)("inline-flex items-center gap-1.5 rounded-lg px-3 py-2 text-xs font-medium uppercase","transition-all duration-200",a?"bg-blue-600 text-white shadow-md":"bg-gray-700 text-gray-300 hover:bg-gray-600 border border-gray-600"),children:[t?s.jsx(t,{className:"h-3.5 w-3.5"}):null,e]})}function ec({selectedSlots:e,onNewBooking:a}){let[t,l]=(0,r.useState)(!1),[n,i]=(0,r.useState)(null);return n?s.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm p-4",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto mt-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("h2",{className:"text-2xl font-bold text-white",children:["change"===n&&"Change Booking","reject"===n&&"Reject Booking","list"===n&&"List Bookings"]}),(0,s.jsxs)(c.z,{variant:"ghost",onClick:()=>i(null),className:"text-white hover:bg-white/10",children:[s.jsx(g.Z,{className:"w-5 h-5 mr-2"}),"Back"]})]}),(0,s.jsxs)(m.Zb,{className:"bg-white dark:bg-gray-800 shadow-2xl",children:["change"===n&&s.jsx(eh,{}),"reject"===n&&s.jsx(eu,{}),"list"===n&&s.jsx(ep,{})]})]})}):(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Slot Management"}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Manage and monitor console bookings."})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)(c.z,{onClick:a,disabled:0===e.length,className:(0,o.cn)("rounded-lg text-white shadow-lg transition-all duration-200","px-5 py-2 text-sm font-semibold",e.length>0?"bg-blue-600 hover:bg-blue-700":"bg-gray-500 cursor-not-allowed"),children:[s.jsx(_.Z,{className:"mr-2 h-4 w-4"}),"New Booking ",e.length>0&&`(${e.length})`]}),(0,s.jsxs)(Y,{open:t,onOpenChange:l,children:[s.jsx(Q,{asChild:!0,children:s.jsx(c.z,{variant:"outline",size:"icon",className:"rounded-lg border-gray-600 bg-gray-700 hover:bg-gray-600",children:s.jsx(S.Z,{className:"w-5 h-5"})})}),(0,s.jsxs)(W,{align:"end",className:"w-56",children:[(0,s.jsxs)(K,{onClick:()=>{i("change"),l(!1)},children:[s.jsx(ee.Z,{className:"w-4 h-4 mr-2"}),"Change Booking"]}),(0,s.jsxs)(K,{onClick:()=>{i("reject"),l(!1)},children:[s.jsx(ea.Z,{className:"w-4 h-4 mr-2"}),"Reject Booking"]}),(0,s.jsxs)(K,{onClick:()=>{i("list"),l(!1)},children:[s.jsx(et.Z,{className:"w-4 h-4 mr-2"}),"List Bookings"]})]})]})]})]})}function em({selectedConsole:e,onConsoleChange:a}){let t={PC:C.Z,PS5:D.Z,Xbox:Z.Z,VR:$.Z};return s.jsx(m.Zb,{className:"rounded-xl border border-gray-700 bg-gray-800/50 backdrop-blur-sm p-4 mb-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-xs font-medium text-gray-400 uppercase",children:"Select Console"}),s.jsx("div",{className:"flex flex-wrap items-center gap-2",children:Object.entries(t).map(([t,r])=>s.jsx(eo,{active:e===t,icon:r,onClick:()=>a(t),children:t},t))})]})})}function ex({availableConsoles:e,selectedConsole:a,selectedSlots:t,onSlotSelect:r,allSlots:n,isLoading:i,fetchSlotBookings:d}){let o=(()=>{let e=[];for(let a=0;a<3;a++){let t=new Date,s=new Date(t.getFullYear(),t.getMonth(),t.getDate()+a),r=s.getFullYear(),l=String(s.getMonth()+1).padStart(2,"0"),n=String(s.getDate()).padStart(2,"0"),i=`${r}-${l}-${n}`,d=`${n}/${l}`;e.push({date:d,fullDate:i})}return e})(),c=l().useMemo(()=>{let e=new Set;return Object.values(n).forEach(a=>{a.forEach(a=>{let t=a.start_time.slice(0,5);e.add(t)})}),Array.from(e).sort((e,a)=>{let[t,s]=e.split(":").map(Number),[r,l]=a.split(":").map(Number);return 60*t+s-(60*r+l)})},[n]),x=e.filter(e=>e.type===a),h=e=>{switch(e){case"PC":default:return C.Z;case"PS5":return D.Z;case"Xbox":return Z.Z;case"VR":return $.Z}},u=e=>{if(!e)return"green";let a=["green","blue","purple","yellow"];return a[e%a.length]},p=(e,a)=>t.some(t=>t.slot_id===e&&t.date===a),b=(e,a,t)=>{let s=(n[e.fullDate]||[]).find(e=>e.start_time.slice(0,5)===a&&e.console_id===t.id);if(!s)return;let l=new Date(new Date().toLocaleString("en-US",{timeZone:"Asia/Kolkata"})),i=new Date(`${e.fullDate}T${s.end_time}+05:30`),o={slot_id:s.slot_id,date:e.fullDate,start_time:s.start_time,end_time:s.end_time,console_id:t.id,console_name:t.name,console_price:s.single_slot_price||t.price,available_count:s.available_slot||0};if(l>=i){console.log("\uD83D\uDD52 Past slot clicked, fetching past bookings..."),d([s.slot_id],e.fullDate);return}s.is_available&&r(o)};if(i)return s.jsx(m.Zb,{className:"rounded-2xl border border-gray-700 bg-gray-800/30 backdrop-blur-sm overflow-hidden",children:s.jsx("div",{className:"flex items-center justify-center py-12",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx(v.Z,{className:"w-8 h-8 animate-spin text-blue-500 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-300",children:"Loading available slots..."})]})})});let f=o.map(e=>{let a=n[e.fullDate]||[];return{date:e.date,fullDate:e.fullDate,cells:c.map((t,r)=>{if(0===x.length)return s.jsx("span",{},r);let l=[];return x.forEach(r=>{let n=a.filter(e=>e.start_time.slice(0,5)===t&&e.console_id===r.id);if(0===n.length)return;let i=n[0],d=p(i.slot_id,e.fullDate),o=new Date(new Date().toLocaleString("en-US",{timeZone:"Asia/Kolkata"})),c=new Date(`${e.fullDate}T${i.end_time}+05:30`),m=0===(i.available_slot||0);o>=c?l.push((0,s.jsxs)("div",{onClick:()=>b(e,t,r),className:"w-full h-full min-h-[40px] flex items-center justify-center bg-gray-500 dark:bg-gray-600 text-white rounded-md cursor-pointer hover:bg-gray-600 dark:hover:bg-gray-700 transition-colors",title:"Past slot - Click to view past bookings",children:[s.jsx(T.Z,{className:"h-4 w-4 mr-1"}),s.jsx("span",{className:"text-xs font-semibold",children:"PAST"})]},`past-${e.fullDate}-${r.id}`)):m?l.push(s.jsx("div",{className:"w-full h-full min-h-[40px] flex items-center justify-center bg-red-600 text-white rounded-md cursor-not-allowed",title:"Fully booked",children:s.jsx(g.Z,{className:"h-5 w-5 stroke-[3]"})},`unavailable-${e.fullDate}-${r.id}`)):l.push(s.jsx("div",{className:"w-full h-full min-h-[40px]",children:s.jsx(ed,{label:`${r.name} - ${i.available_slot}`,color:u(r.id),icon:h(r.type),onClick:()=>b(e,t,r),selected:d,disabled:!1})},`${e.fullDate}-${i.slot_id}`))}),s.jsx("div",{className:"flex flex-row flex-wrap gap-1 items-stretch h-full p-1",children:l},`${e.fullDate}-${r}`)})}});return 0===c.length?s.jsx(m.Zb,{className:"rounded-2xl border border-gray-700 bg-gray-800/30 backdrop-blur-sm overflow-hidden",children:s.jsx("div",{className:"flex items-center justify-center py-12",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx(E.Z,{className:"w-12 h-12 text-gray-500 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-300",children:"No slots available"})]})})}):s.jsx(m.Zb,{className:"rounded-2xl border border-gray-700 bg-gray-800/30 backdrop-blur-sm overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:(0,s.jsxs)("div",{className:"min-w-max",children:[(0,s.jsxs)("div",{className:"grid gap-2 p-4 pb-3 bg-gray-800/50",style:{gridTemplateColumns:`80px repeat(${c.length}, minmax(110px, 1fr))`},children:[s.jsx("div",{className:"text-xs font-semibold text-gray-400 uppercase",children:"Date"}),c.map(e=>s.jsx("div",{className:"text-sm font-bold text-gray-200 text-center",children:e},e))]}),s.jsx("div",{className:"border-t border-gray-700",children:f.map(e=>(0,s.jsxs)("div",{className:"grid gap-2 p-4 py-3 border-b border-gray-700/50 last:border-b-0 hover:bg-gray-700/20 transition-colors",style:{gridTemplateColumns:`80px repeat(${c.length}, minmax(110px, 1fr))`},children:[s.jsx("div",{className:"flex items-center text-sm font-bold text-white bg-gray-700/50 rounded-lg px-2 py-2 justify-center",children:e.date}),e.cells.map((a,t)=>s.jsx("div",{className:"min-h-[44px] rounded-lg border border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:a},`${e.fullDate}-cell-${t}`))]},e.fullDate))})]})})})}function eg({bookings:e,isLoading:a}){let t=e.some(e=>"completed"===e.status||"rejected"===e.status||"cancelled"===e.status),r=t?"Past":"Active";return a?s.jsx(m.Zb,{className:"p-6 mt-2 bg-gray-50 dark:bg-gray-700/30",children:(0,s.jsxs)("div",{className:"flex items-center justify-center py-8",children:[s.jsx(v.Z,{className:"w-6 h-6 animate-spin text-emerald-500"}),s.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Loading bookings..."})]})}):0===e.length?s.jsx(m.Zb,{className:"p-6 mt-2 bg-gray-50 dark:bg-gray-700/30",children:(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[s.jsx("div",{className:"p-3 bg-gray-200 dark:bg-gray-600 rounded-full mb-3",children:s.jsx(y.Z,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})}),(0,s.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 font-medium",children:["No ",t?"past":"active"," bookings for selected slot"]}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-1",children:t?"This past slot has no booking history":"This slot is available for new bookings"})]})}):(0,s.jsxs)(m.Zb,{className:"p-4 mt-2 bg-gray-50 dark:bg-gray-700/30",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white flex items-center gap-2",children:[t?s.jsx(T.Z,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}):s.jsx(E.Z,{className:"w-5 h-5 text-emerald-600"}),(0,s.jsxs)("span",{className:t?"text-gray-700 dark:text-gray-300":"",children:[r," Slot Bookings"]}),(0,s.jsxs)("span",{className:"text-sm font-normal text-gray-500",children:["(",e.length," ",r,")"]})]}),t&&s.jsx("span",{className:"px-3 py-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full text-xs font-medium",children:"History"})]}),s.jsx("div",{className:"overflow-x-auto",children:(0,s.jsxs)(H.iA,{children:[s.jsx(H.xD,{children:(0,s.jsxs)(H.SC,{children:[s.jsx(H.ss,{className:"text-gray-700 dark:text-gray-300",children:"Booking ID"}),s.jsx(H.ss,{className:"text-gray-700 dark:text-gray-300",children:"Customer Details"}),s.jsx(H.ss,{className:"text-gray-700 dark:text-gray-300",children:"Time"}),s.jsx(H.ss,{className:"text-gray-700 dark:text-gray-300",children:"Status"}),s.jsx(H.ss,{className:"text-gray-700 dark:text-gray-300",children:"Meal Selection"}),s.jsx(H.ss,{className:"text-gray-700 dark:text-gray-300",children:"Actions"})]})}),s.jsx(H.RM,{children:e.map(e=>(0,s.jsxs)(H.SC,{className:(0,o.cn)("hover:bg-gray-100 dark:hover:bg-gray-600/30",t&&"opacity-80"),children:[s.jsx(H.pj,{className:"font-medium text-emerald-600 dark:text-emerald-400",children:e.booking_fid}),s.jsx(H.pj,{children:(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsxs)("span",{className:"font-medium text-gray-800 dark:text-white flex items-center gap-1",children:[s.jsx(p.Z,{className:"w-3 h-3"}),e.customer_name]}),(0,s.jsxs)("span",{className:"text-xs text-gray-600 dark:text-gray-400 flex items-center gap-1",children:[s.jsx(u.Z,{className:"w-3 h-3"}),e.customer_email]}),(0,s.jsxs)("span",{className:"text-xs text-gray-600 dark:text-gray-400 flex items-center gap-1",children:[s.jsx(b.Z,{className:"w-3 h-3"}),e.customer_phone]})]})}),s.jsx(H.pj,{children:(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsxs)("span",{className:"text-xs text-gray-700 dark:text-gray-300 font-medium",children:[e.slot_start_time?.slice(0,5)," - ",e.slot_end_time?.slice(0,5)]}),s.jsx("span",{className:"text-xs text-gray-500",children:new Date(e.booking_date).toLocaleDateString("en-GB")})]})}),s.jsx(H.pj,{children:s.jsx("span",{className:(0,o.cn)("px-2 py-1 rounded-full text-xs font-medium","confirmed"===e.status&&"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400","checked_in"===e.status&&"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400","pending_verified"===e.status&&"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400","completed"===e.status&&"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300","cancelled"===e.status&&"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400","rejected"===e.status&&"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"),children:"checked_in"===e.status?"Checked-In":"pending_verified"===e.status?"Pending":e.status.charAt(0).toUpperCase()+e.status.slice(1)})}),s.jsx(H.pj,{children:s.jsx("div",{className:"flex items-center gap-1 text-sm text-gray-700 dark:text-gray-300",children:e.meals&&e.meals.length>0?(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[s.jsx(w.Z,{className:"w-4 h-4 text-emerald-600"}),s.jsx("span",{className:"text-xs",children:e.meal_selection})]}):s.jsx("span",{className:"text-gray-500 italic text-xs",children:"No meal selected"})})}),s.jsx(H.pj,{children:s.jsx(c.z,{variant:"ghost",size:"sm",className:(0,o.cn)("text-xs",t?"text-gray-600 hover:text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700":"text-emerald-600 hover:text-emerald-700 hover:bg-emerald-50 dark:hover:bg-emerald-900/30"),children:t?"View History":"View Details"})})]},e.booking_id))})]})}),(0,s.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600 flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:t?(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[s.jsx(T.Z,{className:"w-4 h-4"}),"Historical records for this time slot"]}):(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[s.jsx(E.Z,{className:"w-4 h-4"}),"Currently active bookings"]})}),s.jsx("div",{className:"flex items-center gap-3 text-xs",children:["confirmed","checked_in","pending_verified","completed","cancelled"].map(a=>{let t=e.filter(e=>e.status===a).length;return 0===t?null:(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:(0,o.cn)("w-2 h-2 rounded-full","confirmed"===a&&"bg-green-500","checked_in"===a&&"bg-orange-500","pending_verified"===a&&"bg-blue-500","completed"===a&&"bg-gray-500","cancelled"===a&&"bg-red-500")}),(0,s.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:["checked_in"===a?"Checked-In":"pending_verified"===a?"Pending":a.charAt(0).toUpperCase()+a.slice(1),": ",t]})]},a)})})]})]})}function eh(){let[e,a]=(0,r.useState)(""),[t,l]=(0,r.useState)(!1),[n,i]=(0,r.useState)(!1),[d,o]=(0,r.useState)(null),[m,g]=(0,r.useState)([]),[h,u]=(0,r.useState)(!1),[p,b]=(0,r.useState)(!1),[f,y]=(0,r.useState)(null),j=async()=>{if(e){l(!0);try{let a=await fetch(`${R.o8}/api/bookings/${e}`),t=await a.json();if(a.ok&&t.success&&t.booking){b(!1);let{booking:e}=t;o({customer:e.customer||{name:"",email:"",phone:""},booking_date:e.date||"",selected_slots:[`${e.time_slot.start_time}`],system:e.system||"",vendorId:f,consoleTypeId:e.game_id}),i(!0),await N(1,e.game_id,e.date)}else i(!1)}catch(e){console.error("Error fetching booking:",e),i(!1)}finally{l(!1)}}},N=async(e,a,t)=>{try{let s=await fetch(`${R.o8}/api/getSlots/vendor/${e}/game/${a}/${t.replaceAll("-","")}`),r=await s.json();s.ok&&r.slots&&g(r.slots)}catch(e){console.error("Error fetching available slots:",e)}},k=async a=>{if(a.preventDefault(),u(!0),d)try{let a=await fetch(`${R.o8}/api/update_booking/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});await a.json(),a.ok?b(!0):alert("Failed to update booking.")}catch(e){console.error("Error updating booking:",e)}finally{u(!1)}};return s.jsx("div",{className:"p-6",children:(0,s.jsxs)("form",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Search Booking"}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[s.jsx("input",{id:"bookingId",placeholder:"Enter Booking ID",value:e,onChange:e=>a(e.target.value),className:"flex-1 px-4 py-3 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 text-gray-800 dark:text-white"}),s.jsx(c.z,{type:"button",onClick:j,disabled:t,className:"min-w-[100px] bg-emerald-600 hover:bg-emerald-700",children:t?s.jsx(v.Z,{className:"w-4 h-4 animate-spin"}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(es.Z,{className:"w-4 h-4 mr-2"}),"Search"]})})]})]}),n&&d&&!p?(0,s.jsxs)("div",{className:"space-y-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Gamer's Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Name"}),s.jsx("input",{value:d.customer?.name||"",onChange:e=>o(a=>({...a,customer:{...a.customer,name:e.target.value}})),className:"w-full px-4 py-3 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 text-gray-800 dark:text-white"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email"}),s.jsx("input",{type:"email",value:d.customer?.email||"",onChange:e=>o(a=>({...a,customer:{...a.customer,email:e.target.value}})),className:"w-full px-4 py-3 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 text-gray-800 dark:text-white"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Phone Number"}),s.jsx("input",{type:"tel",value:d.customer?.phone||"",onChange:e=>o(a=>({...a,customer:{...a.customer,phone:e.target.value}})),className:"w-full px-4 py-3 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 text-gray-800 dark:text-white"})]})]}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Booking Details"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Booking Date"}),s.jsx("input",{type:"date",value:d.booking_date||"",onChange:e=>o(a=>({...a,booking_date:e.target.value})),className:"w-full px-4 py-3 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 text-gray-800 dark:text-white"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Slot Time"}),s.jsx("div",{className:"grid grid-cols-6 gap-2",children:m.map(e=>s.jsx(c.z,{type:"button",variant:"outline",disabled:!e.is_available,className:`rounded-full text-xs ${d.selected_slots.includes(e.start_time)?"bg-emerald-600 text-white hover:bg-emerald-700":""}`,onClick:()=>o(a=>({...a,selected_slots:[e.start_time]})),children:e.start_time},e.slot_id))})]})]}),s.jsx(c.z,{onClick:k,disabled:h,className:"bg-emerald-600 hover:bg-emerald-700",children:h?(0,s.jsxs)(s.Fragment,{children:[s.jsx(v.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update Booking"})]}):null,p&&(0,s.jsxs)(X.bZ,{className:"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-500",children:[s.jsx(x.Z,{className:"h-4 w-4 text-emerald-600"}),s.jsx(X.X,{className:"text-emerald-700 dark:text-emerald-300",children:"Booking has been successfully updated."})]})]})})}function eu(){let[e,a]=(0,r.useState)(""),[t,l]=(0,r.useState)(!1),[d,o]=(0,r.useState)(""),[g,h]=(0,r.useState)(""),[u,p]=(0,r.useState)(""),[b,f]=(0,r.useState)(null),[j,N]=(0,r.useState)(!1),[k,w]=(0,r.useState)(!1),[_,S]=(0,r.useState)(!1),[C,D]=(0,r.useState)(!1),[Z,$]=(0,r.useState)(null),T=async()=>{if(e){S(!0);try{let a=await fetch(`${R.o8}/api/bookings/${e}`),t=await a.json();if(a.ok&&t.success&&t.booking){D(!1);let{booking:e}=t;f({customer:e.customer||{name:"",email:"",phone:""},booking_date:e.date||"",booking_id:e.booking_id,selected_slots:[`${e.time_slot.start_time}`],system:e.system||"",vendorId:Z,consoleTypeId:e.game_id,start_time:e.time_slot.start_time,end_time:e.time_slot.end_time,amount_paid:e.amount_paid}),p(e.customer?.email||""),l(!0)}else l(!1)}catch(e){console.error("Error fetching booking:",e),l(!1)}finally{S(!1)}}},E=async a=>{if(a.preventDefault(),!j){N(!0);return}w(!0),S(!0);try{(await fetch(`${R.o8}/api/bookings/reject`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({booking_id:e,rejection_reason:d,repayment_type:g,user_email:u})})).ok?D(!0):console.error("Error rejecting booking")}catch(e){console.error("Error:",e)}finally{w(!1),S(!1)}};return s.jsx("div",{className:"p-6",children:(0,s.jsxs)("form",{className:"space-y-8",onSubmit:E,children:[(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Search Booking"}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[s.jsx("input",{placeholder:"Enter Booking ID",value:e,onChange:e=>a(e.target.value),className:"flex-1 px-4 py-3 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 text-gray-800 dark:text-white"}),s.jsx(c.z,{type:"button",onClick:T,disabled:_,className:"min-w-[100px] bg-emerald-600 hover:bg-emerald-700",children:_?s.jsx(v.Z,{className:"w-4 h-4 animate-spin"}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(es.Z,{className:"w-4 h-4 mr-2"}),"Search"]})})]})]}),C?(0,s.jsxs)(X.bZ,{className:"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-500",children:[s.jsx(x.Z,{className:"h-4 w-4 text-emerald-600"}),s.jsx(X.X,{className:"text-emerald-700 dark:text-emerald-300",children:"Booking has been successfully rejected."})]}):s.jsx(i.M,{children:t&&b&&(0,s.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-8",children:[(0,s.jsxs)("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Booking Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(m.Zb,{className:"bg-gray-50 dark:bg-gray-700/30 p-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Booking ID"}),s.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:b.booking_id||""})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Date"}),s.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:b.booking_date||""})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Time Slot"}),(0,s.jsxs)("span",{className:"font-medium text-gray-800 dark:text-white",children:[b.start_time||""," - ",b.end_time||""]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"System"}),s.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:b.system||""})]})]})}),s.jsx(m.Zb,{className:"bg-gray-50 dark:bg-gray-700/30 p-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Customer"}),s.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:b.customer?.name||""})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Email"}),s.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:b.customer?.email||""})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Phone"}),s.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:b.customer?.phone||""})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Amount Paid"}),(0,s.jsxs)("span",{className:"font-medium text-gray-800 dark:text-white",children:["₹",b.amount_paid||""]})]})]})})]})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Rejection Details"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Reason for Rejection"}),s.jsx("textarea",{value:d,onChange:e=>o(e.target.value),placeholder:"Please provide a detailed reason for rejecting this booking...",className:"w-full min-h-[100px] px-4 py-3 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 text-gray-800 dark:text-white resize-none"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Repayment Method"}),(0,s.jsxs)(U.Ph,{value:g,onValueChange:h,children:[s.jsx(U.i4,{className:"bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600",children:s.jsx(U.ki,{placeholder:"Select repayment method"})}),(0,s.jsxs)(U.Bw,{children:[s.jsx(U.Ql,{value:"refund",children:"Full Refund to Original Payment Method"}),s.jsx(U.Ql,{value:"credit",children:"Store Credit"}),s.jsx(U.Ql,{value:"reschedule",children:"Reschedule to Another Date"})]})]})]})]})]}),j?(0,s.jsxs)(X.bZ,{variant:"destructive",className:"mt-6",children:[s.jsx(y.Z,{className:"h-4 w-4"}),(0,s.jsxs)(X.X,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Are you sure you want to reject this booking? This action cannot be undone."}),(0,s.jsxs)("div",{className:"flex space-x-2 mt-2",children:[s.jsx(c.z,{type:"button",variant:"outline",onClick:()=>N(!1),children:"Cancel"}),s.jsx(c.z,{type:"submit",variant:"destructive",disabled:k||_,children:k||_?(0,s.jsxs)(s.Fragment,{children:[s.jsx(v.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Confirming..."]}):"Confirm Rejection"})]})]})]}):(0,s.jsxs)(c.z,{type:"submit",variant:"destructive",className:"w-full",disabled:!d||!g,children:[s.jsx(ea.Z,{className:"w-4 h-4 mr-2"}),"Reject Booking"]})]})})]})})}function ep(){let[e,a]=(0,r.useState)(null),[t,i]=(0,r.useState)([]),[d,o]=(0,r.useState)([]),[m,x]=(0,r.useState)(""),[g,h]=(0,r.useState)(null),[u,p]=(0,r.useState)({}),b=e=>{p(a=>({...a,[e]:!a[e]}))},f=(0,r.useMemo)(()=>{let e={};return d.forEach(a=>{let t=a.bookedDate;e[t]||(e[t]=[]),e[t].push(a)}),e},[d]),y=e=>{h(a=>({key:e,direction:a?.key===e&&"asc"===a.direction?"desc":"asc"}))},j=e=>s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${{rejected:"bg-red-100 dark:bg-red-950 text-red-700 dark:text-red-300",confirmed:"bg-emerald-100 dark:bg-emerald-950 text-emerald-700 dark:text-emerald-300"}[e]||"bg-gray-300 text-gray-700 dark:bg-gray-700 dark:text-gray-300"}`,children:e}),N=e=>{if("number"==typeof e){let a=new Date(e);return`${a.getHours().toString().padStart(2,"0")}:${a.getMinutes().toString().padStart(2,"0")}`}let[a,t]=e.split(":");return`${a}:${t}`};return(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[s.jsx("input",{placeholder:"Search bookings...",value:m,onChange:e=>x(e.target.value),className:"flex-1 px-4 py-3 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 text-gray-800 dark:text-white"}),(0,s.jsxs)(c.z,{onClick:()=>{if(m.trim()){let e=m.toLowerCase();o(t.filter(a=>Object.values(a).some(a=>a.toString().toLowerCase().includes(e))))}else o(t)},className:"bg-emerald-600 hover:bg-emerald-700",children:[s.jsx(es.Z,{className:"w-4 h-4 mr-2"}),"Search"]})]}),s.jsx("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:(0,s.jsxs)(H.iA,{children:[s.jsx(H.xD,{children:s.jsx(H.SC,{className:"bg-gray-50 dark:bg-gray-700/50",children:[{label:"Booked Date",key:"bookedDate"},{label:"Username",key:"username"},{label:"Status",key:"status"},{label:"Booking ID",key:"id"},{label:"Booking Date",key:"bookingDate"},{label:"Booking Time",key:"bookingTime"},{label:"Console Type",key:"consoleType"},{label:"Start Time",key:"startTime"},{label:"End Time",key:"endTime"},{label:"Type",key:"type"}].map(({label:e,key:a})=>(0,s.jsxs)(H.ss,{className:"font-semibold cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",onClick:()=>y(a),children:[e," ",g?.key===a&&("asc"===g.direction?"↑":"↓")]},a))})}),s.jsx(H.RM,{children:Object.entries(f).map(([e,a])=>(0,s.jsxs)(l().Fragment,{children:[s.jsx(H.SC,{className:"bg-gray-100 dark:bg-gray-700/30 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700/50",onClick:()=>b(e),children:(0,s.jsxs)(H.pj,{colSpan:10,className:"font-bold text-gray-800 dark:text-white",children:[u[e]?"▼":"▶"," ",new Date(e).toDateString()," (",a.length,")"]})}),u[e]&&a.map((e,a)=>(0,s.jsxs)(n.E.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:.05*a},className:"hover:bg-gray-50 dark:hover:bg-gray-700/20",children:[s.jsx(H.pj,{children:e.bookedDate}),s.jsx(H.pj,{children:e.username}),s.jsx(H.pj,{children:j(e.status)}),s.jsx(H.pj,{children:e.id}),s.jsx(H.pj,{children:e.bookingDate}),s.jsx(H.pj,{children:e.bookingTime}),s.jsx(H.pj,{children:e.consoleType}),s.jsx(H.pj,{children:e.startTime?N(e.startTime):"Not started"}),s.jsx(H.pj,{children:e.endTime?N(e.endTime):"Not ended"}),s.jsx(H.pj,{children:e.type})]},e.id))]},e))})]})})]})}function eb(){let[e,a]=(0,r.useState)("PC"),[t,l]=(0,r.useState)([]),[n,i]=(0,r.useState)(!1),[o,c]=(0,r.useState)([]),[m,x]=(0,r.useState)({}),[g,h]=(0,r.useState)([]),[u,p]=(0,r.useState)(!0),[b,f]=(0,r.useState)([]),[y,j]=(0,r.useState)(!1),N=(0,r.useRef)(!1);(0,r.useRef)(null);let k=()=>{let e=localStorage.getItem("jwtToken");if(!e)return null;try{return(0,d.o)(e).sub.id}catch(e){return console.error("❌ Error decoding token:",e),null}},w=async(e,a)=>{let t=k();if(!t||0===e.length){f([]);return}j(!0),console.log("\uD83D\uDD0D Fetching bookings for slots:",e,"date:",a);let s=new Date(new Date().toLocaleString("en-US",{timeZone:"Asia/Kolkata"})),r=new Date(a)<new Date(s.toISOString().split("T")[0]);try{let s=e.join(","),l=await fetch(`${R.o8}/api/vendor/${t}/slot-bookings?slot_ids=${s}&date=${a}${r?"&include_completed=true":""}`),n=await l.json();console.log("\uD83D\uDCE5 Slot bookings response:",n),n.success&&n.bookings?(f(n.bookings),console.log(`✅ Loaded ${n.bookings.length} ${r?"past":"active"} bookings`)):(f([]),console.log("\uD83D\uDCED No bookings found"))}catch(e){console.error("❌ Error fetching slot bookings:",e),f([])}finally{j(!1)}};return u?s.jsx("main",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx(v.Z,{className:"w-12 h-12 animate-spin text-blue-500 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-300",children:"Loading slot data..."})]})}):(0,s.jsxs)("main",{className:"min-h-screen bg-background",children:[(0,s.jsxs)("div",{className:"mx-auto w-full max-w-full p-6 md:p-8",children:[s.jsx(ec,{selectedSlots:t,onNewBooking:()=>{t.length>0&&i(!0)}}),s.jsx(em,{selectedConsole:e,onConsoleChange:a}),s.jsx(ex,{availableConsoles:o,selectedConsole:e,selectedSlots:t,onSlotSelect:e=>{t.some(a=>a.slot_id===e.slot_id&&a.date===e.date)?l(t.filter(a=>!(a.slot_id===e.slot_id&&a.date===e.date))):l([...t,e])},allSlots:m,isLoading:u,fetchSlotBookings:w}),s.jsx(eg,{bookings:b,isLoading:y})]}),s.jsx(ei,{isOpen:n,onClose:()=>i(!1),selectedSlots:t,onBookingComplete:()=>{l([]),N.current=!1,er.clear(),el.clear(),window.location.reload()},availableConsoles:o})]})}},2502:(e,a,t)=>{"use strict";t.d(a,{Cd:()=>o,X:()=>c,bZ:()=>d});var s=t(97247),r=t(28964),l=t(87972),n=t(25008);let i=(0,l.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=r.forwardRef(({className:e,variant:a,...t},r)=>s.jsx("div",{ref:r,role:"alert",className:(0,n.cn)(i({variant:a}),e),...t}));d.displayName="Alert";let o=r.forwardRef(({className:e,...a},t)=>s.jsx("h5",{ref:t,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",e),...a}));o.displayName="AlertTitle";let c=r.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",e),...a}));c.displayName="AlertDescription"},27757:(e,a,t)=>{"use strict";t.d(a,{Ol:()=>i,SZ:()=>o,Zb:()=>n,aY:()=>c,ll:()=>d});var s=t(97247),r=t(28964),l=t(25008);let n=r.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));n.displayName="Card";let i=r.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...a}));i.displayName="CardHeader";let d=r.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));d.displayName="CardTitle";let o=r.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",e),...a}));o.displayName="CardDescription";let c=r.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,l.cn)("p-6 pt-0",e),...a}));c.displayName="CardContent",r.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter"},94049:(e,a,t)=>{"use strict";t.d(a,{Bw:()=>u,Ph:()=>c,Ql:()=>p,i4:()=>x,ki:()=>m});var s=t(97247),r=t(28964),l=t(54576),n=t(62513),i=t(45370),d=t(48799),o=t(25008);let c=l.fC;l.ZA;let m=l.B4,x=r.forwardRef(({className:e,children:a,...t},r)=>(0,s.jsxs)(l.xz,{ref:r,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...t,children:[a,s.jsx(l.JO,{asChild:!0,children:s.jsx(n.Z,{className:"h-4 w-4 opacity-50"})})]}));x.displayName=l.xz.displayName;let g=r.forwardRef(({className:e,...a},t)=>s.jsx(l.u_,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:s.jsx(i.Z,{className:"h-4 w-4"})}));g.displayName=l.u_.displayName;let h=r.forwardRef(({className:e,...a},t)=>s.jsx(l.$G,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:s.jsx(n.Z,{className:"h-4 w-4"})}));h.displayName=l.$G.displayName;let u=r.forwardRef(({className:e,children:a,position:t="popper",...r},n)=>s.jsx(l.h_,{children:(0,s.jsxs)(l.VY,{ref:n,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...r,children:[s.jsx(g,{}),s.jsx(l.l_,{className:(0,o.cn)("p-1","popper"===t&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),s.jsx(h,{})]})}));u.displayName=l.VY.displayName,r.forwardRef(({className:e,...a},t)=>s.jsx(l.__,{ref:t,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...a})).displayName=l.__.displayName;let p=r.forwardRef(({className:e,children:a,...t},r)=>(0,s.jsxs)(l.ck,{ref:r,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(l.wU,{children:s.jsx(d.Z,{className:"h-4 w-4"})})}),s.jsx(l.eT,{children:a})]}));p.displayName=l.ck.displayName,r.forwardRef(({className:e,...a},t)=>s.jsx(l.Z0,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",e),...a})).displayName=l.Z0.displayName},44283:(e,a,t)=>{"use strict";t.d(a,{RM:()=>d,SC:()=>o,iA:()=>n,pj:()=>m,ss:()=>c,xD:()=>i});var s=t(97247),r=t(28964),l=t(25008);let n=r.forwardRef(({className:e,...a},t)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:t,className:(0,l.cn)("w-full caption-bottom text-sm",e),...a})}));n.displayName="Table";let i=r.forwardRef(({className:e,...a},t)=>s.jsx("thead",{ref:t,className:(0,l.cn)("[&_tr]:border-b",e),...a}));i.displayName="TableHeader";let d=r.forwardRef(({className:e,...a},t)=>s.jsx("tbody",{ref:t,className:(0,l.cn)("[&_tr:last-child]:border-0",e),...a}));d.displayName="TableBody",r.forwardRef(({className:e,...a},t)=>s.jsx("tfoot",{ref:t,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...a})).displayName="TableFooter";let o=r.forwardRef(({className:e,...a},t)=>s.jsx("tr",{ref:t,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...a}));o.displayName="TableRow";let c=r.forwardRef(({className:e,...a},t)=>s.jsx("th",{ref:t,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...a}));c.displayName="TableHead";let m=r.forwardRef(({className:e,...a},t)=>s.jsx("td",{ref:t,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...a}));m.displayName="TableCell",r.forwardRef(({className:e,...a},t)=>s.jsx("caption",{ref:t,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",e),...a})).displayName="TableCaption"},23027:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>l,metadata:()=>r});var s=t(72051);let r={title:"Hash for Gamers",description:"Gaming Cafe Booking App"};function l({children:e}){return s.jsx("div",{className:"min-h-screen",children:e})}},25094:(e,a,t)=>{"use strict";t.d(a,{c:()=>s});let s=(0,t(45347).createProxy)(String.raw`/Users/bhanujoshi/Documents/Hash/hash-dashboard/app/(layout)/dashboard-layout.tsx#DashboardLayout`)},7527:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(45347).createProxy)(String.raw`/Users/bhanujoshi/Documents/Hash/hash-dashboard/app/components/newSlot.tsx#default`)}};