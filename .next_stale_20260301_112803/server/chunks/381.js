exports.id=381,exports.ids=[381],exports.modules={87529:()=>{},58359:()=>{},93739:()=>{},48473:(e,r,t)=>{Promise.resolve().then(t.bind(t,60768)),Promise.resolve().then(t.bind(t,85758)),Promise.resolve().then(t.bind(t,64483)),Promise.resolve().then(t.bind(t,57797))},27683:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,63642,23)),Promise.resolve().then(t.t.bind(t,87586,23)),Promise.resolve().then(t.t.bind(t,47838,23)),Promise.resolve().then(t.t.bind(t,58057,23)),Promise.resolve().then(t.t.bind(t,77741,23)),Promise.resolve().then(t.t.bind(t,13118,23))},61809:(e,r,t)=>{"use strict";t.d(r,{DashboardLayout:()=>T});var o=t(97247),s=t(28964),n=t(37013),a=t(6683),i=t(57797),c=t(58053),l=t(79906),d=t(34178),u=t(25008),h=t(21697),m=t(92046),x=t(96582),p=t(7553),g=t(61862),b=t(57989),f=t(93587),v=t(82103),k=t(30680),j=t(86802),w=t(22392),y=t(5271),N=t(79859),S=t(12662),P=t(5495),C=t(19400);function _(){return(0,o.jsxs)("button",{className:"group flex items-center space-x-2 rounded-md px-3 py-2 text-sm font-medium transition-all hover:bg-accent hover:text-accent-foreground text-red-500 md:pl-[8px]",onClick:()=>{localStorage.removeItem("jwtToken"),localStorage.removeItem("tokenExpiration"),window.location.href="/login"},children:[o.jsx(C.Z,{className:"h-5 w-5 shrink-0 mb-12"}),o.jsx("span",{className:"block md:hidden md:group-hover:block whitespace-nowrap mb-12 font-medium",children:"Logout"})]})}function D({className:e,onItemClick:r,...t}){let s=(0,d.usePathname)(),{setTheme:n,theme:a}=(0,i.F)(),c=()=>{let e=["vendor_login_email","vendors"];Object.keys(localStorage).forEach(r=>{e.includes(r)||localStorage.removeItem(r)})};return(0,o.jsxs)("nav",{className:(0,u.cn)("flex flex-col h-full justify-between transition-all duration-300 ease-in-out",e),...t,children:[o.jsx("div",{className:"flex flex-col space-y-2",children:[{href:"/dashboard",icon:h.Z,label:"Dashboard"},{href:"/gaming",icon:m.Z,label:"Manage Gaming Console"},{href:"/booking",icon:x.Z,label:"Manage Booking"},{href:"/transaction",icon:p.Z,label:"Transaction Report"},{href:"/manage-extraservice",icon:g.Z,label:"Extra Services"},{href:"/know-your-gamers",icon:b.Z,label:"Know Your Gamers"},{href:"/console-pricing",icon:f.Z,label:"Console Pricing"},{href:"/pass",icon:v.Z,label:"Manage Passes"},{href:"/store",icon:k.Z,label:"Store"},{href:"/games",icon:j.Z,label:"Games"},{href:"/tournaments",icon:w.Z,label:"Tournaments"}].map(({href:e,icon:t,label:n})=>(0,o.jsxs)(l.default,{href:e,onClick:r,className:(0,u.cn)("group/nav flex items-center gap-3 rounded-xl border border-transparent px-3 py-2.5 text-sm font-medium transition-all duration-200","hover:border-border/70 hover:bg-muted/50 hover:text-foreground","md:px-3 xl:px-2 xl:group-hover:px-3",s===e?"gaming-nav-active text-foreground":"text-muted-foreground"),children:[o.jsx(t,{className:(0,u.cn)("h-5 w-5 shrink-0 transition-colors",s===e?"text-emerald-400":"text-muted-foreground group-hover/nav:text-foreground")}),o.jsx("span",{className:"whitespace-nowrap md:block xl:hidden xl:group-hover:block",children:n})]},e))}),(0,o.jsxs)("div",{className:"flex flex-col space-y-2 mt-auto",children:[(0,o.jsxs)(l.default,{href:"/account",onClick:r,className:(0,u.cn)("group/nav flex items-center gap-3 rounded-xl border border-transparent px-3 py-2.5 text-sm font-medium transition-all duration-200","hover:border-border/70 hover:bg-muted/50 hover:text-foreground","md:px-3 xl:px-2 xl:group-hover:px-3","/account"===s?"gaming-nav-active text-foreground":"text-muted-foreground"),children:[o.jsx(y.Z,{className:(0,u.cn)("h-5 w-5 shrink-0 transition-colors","/account"===s?"text-emerald-400":"text-muted-foreground group-hover/nav:text-foreground")}),o.jsx("span",{className:"whitespace-nowrap md:block xl:hidden xl:group-hover:block",children:"My Account"})]}),(0,o.jsxs)(l.default,{href:"/select-cafe",onClick:()=>{c(),r?.()},className:(0,u.cn)("group/nav flex items-center gap-3 rounded-xl border border-transparent px-3 py-2.5 text-sm font-medium transition-all duration-200","hover:border-border/70 hover:bg-muted/50 hover:text-foreground","md:px-3 xl:px-2 xl:group-hover:px-3","/select-cafe"===s?"gaming-nav-active text-foreground":"text-muted-foreground"),children:[o.jsx(N.Z,{className:(0,u.cn)("h-5 w-5 shrink-0 transition-colors","/select-cafe"===s?"text-emerald-400":"text-muted-foreground group-hover/nav:text-foreground")}),o.jsx("span",{className:"whitespace-nowrap md:block xl:hidden xl:group-hover:block",children:"Select Cafe"})]}),(0,o.jsxs)("button",{onClick:()=>{n("dark"===a?"light":"dark"),r?.()},className:(0,u.cn)("group/nav flex items-center gap-3 rounded-xl border border-transparent px-3 py-2.5 text-sm font-medium transition-all duration-200","hover:border-border/70 hover:bg-muted/50 hover:text-foreground","md:px-3 xl:px-2 xl:group-hover:px-3","text-muted-foreground"),children:[(0,o.jsxs)("div",{className:"relative flex items-center justify-center w-5 h-5",children:[o.jsx(S.Z,{className:(0,u.cn)("absolute transition-transform duration-300","dark"===a?"rotate-90 scale-0":"rotate-0 scale-100")}),o.jsx(P.Z,{className:(0,u.cn)("absolute transition-transform duration-300","dark"===a?"rotate-0 scale-100":"rotate-90 scale-0")})]}),o.jsx("span",{className:"whitespace-nowrap md:block xl:hidden xl:group-hover:block",children:"Toggle Theme"})]}),o.jsx(_,{})]})]})}var E=t(44597);function T({children:e}){let{theme:r}=(0,i.F)(),[t,l]=(0,s.useState)(!1);return(0,o.jsxs)("div",{className:"premium-shell flex min-h-dvh overflow-hidden text-foreground",children:[(0,o.jsxs)("header",{className:"fixed left-0 right-0 top-0 z-20 flex items-center justify-between border-b border-border/70 bg-background/90 px-4 py-3 backdrop-blur md:hidden",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[o.jsx(E.default,{src:"dark"===r?"/whitehashlogo.png":"/blackhashlogo.png",alt:"Hash Logo",width:36,height:36,className:"shrink-0"}),o.jsx("span",{className:"premium-heading text-base font-semibold",children:"Hash Gaming"})]}),o.jsx(c.z,{variant:"ghost",size:"sm",onClick:()=>l(!t),className:"md:hidden",children:t?o.jsx(n.Z,{className:"h-6 w-6"}):o.jsx(a.Z,{className:"h-6 w-6"})})]}),(0,o.jsxs)("div",{className:"flex flex-1 overflow-hidden pt-[58px] md:pt-0",children:[(0,o.jsxs)("aside",{className:`
            group fixed left-0 top-0 z-30 h-full w-[86vw] max-w-72 border-r border-border/70 bg-background/85 p-4 backdrop-blur-md transition-transform duration-300 ease-out
            md:relative md:w-72 md:max-w-none md:translate-x-0
            xl:w-[76px] xl:hover:w-72
            ${t?"translate-x-0":"-translate-x-full"}
          `,children:[(0,o.jsxs)("div",{className:"mb-6 hidden items-end space-x-2 overflow-hidden md:flex",children:[o.jsx(E.default,{src:"/whitehashlogo.png",alt:"Hash Logo - Dark Mode",width:36,height:36,className:"shrink-0 hidden dark:block"}),o.jsx(E.default,{src:"/blackhashlogo.png",alt:"Hash Logo - Light Mode",width:36,height:36,className:"shrink-0 dark:hidden"}),o.jsx("span",{className:"premium-heading ml-1 hidden whitespace-nowrap text-sm font-semibold text-foreground md:block xl:hidden xl:group-hover:block",children:"Hash Gaming"})]}),o.jsx(D,{className:"flex-col items-start space-y-2",onItemClick:()=>l(!1)})]}),t&&o.jsx("div",{className:"fixed inset-0 z-20 bg-black/55 backdrop-blur-[1px] md:hidden",onClick:()=>l(!1)}),o.jsx("main",{className:"flex-1 overflow-y-auto px-2 pb-2 pt-2 sm:px-3 sm:pb-3 md:px-4 md:pb-4 md:pt-4",children:e})]})]})}},60768:(e,r,t)=>{"use strict";t.d(r,{AuthProvider:()=>i});var o=t(97247),s=t(28964),n=t(34178);let a=(0,s.createContext)({isAuthenticated:!1}),i=({children:e})=>{let[r,t]=(0,s.useState)(!1),i=(0,n.useRouter)();return(0,s.useEffect)(()=>{let e=localStorage.getItem("jwtToken"),r=localStorage.getItem("tokenExpiration");console.log(r),!e||!r||new Date().getTime()>Number(r)?(localStorage.removeItem("jwtToken"),localStorage.removeItem("tokenExpiration"),t(!1),i.push("/login")):t(!0)},[]),o.jsx(a.Provider,{value:{isAuthenticated:r},children:e})}},85758:(e,r,t)=>{"use strict";t.d(r,{SocketProvider:()=>l,s:()=>c});var o=t(97247),s=t(45333),n=t(28964),a=t(97294);let i=(0,n.createContext)(void 0),c=()=>{let e=(0,n.useContext)(i);if(!e)throw Error("useSocket must be used within a SocketProvider");return e},l=({children:e})=>{let[r,t]=(0,n.useState)(null),[c,l]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{console.log("\uD83D\uDD0C Creating single socket connection..."),console.log(`Trying to connect ${s.o5}`);let e=(0,a.io)(`${s.o5}`,{transports:["websocket","polling"],autoConnect:!0,reconnection:!0,reconnectionAttempts:5,reconnectionDelay:2e3,timeout:2e4});return e.on("connect",()=>{console.log("âœ… Socket connected:",e.id),l(!0)}),e.on("disconnect",e=>{console.log("âŒ Socket disconnected:",e),l(!1)}),e.on("connect_error",e=>{console.error("\uD83D\uDCA5 Connection error:",e),l(!1)}),t(e),()=>{console.log("\uD83E\uDDF9 Cleaning up socket..."),e.close()}},[]),o.jsx(i.Provider,{value:{socket:r,isConnected:c,joinVendor:e=>{r?.connected?(console.log(`ðŸª Joining vendor room: ${e}`),r.emit("dashboard_join_vendor",{vendor_id:e})):console.warn("âš ï¸ Cannot join vendor, socket not connected")}},children:e})}},64483:(e,r,t)=>{"use strict";t.d(r,{SubscriptionProvider:()=>c,m:()=>l});var o=t(97247),s=t(28964),n=t(34178),a=t(68920);let i=(0,s.createContext)({status:null,loading:!0,vendorId:null,isLocked:!1,checkSubscription:async()=>{},refreshStatus:async()=>{}});function c({children:e}){let[r,t]=(0,s.useState)(null),[c,l]=(0,s.useState)(!1),[d,u]=(0,s.useState)(null);(0,n.useRouter)();let h=(0,n.usePathname)(),m=async()=>{if(!d||d<=0){l(!1);return}if("master"===localStorage.getItem("selectedCafe")){t({is_active:!0,locked:!1,message:"Master access"}),l(!1);return}if(["/subscription","/login","/select-cafe"].some(e=>h?.includes(e))){l(!1);return}try{l(!0);let e=await a.h.checkStatus(d);t(e)}catch(e){console.error("Failed to check subscription:",e),t({is_active:!0,locked:!1,message:"Check failed"})}finally{l(!1)}},x=async()=>{await m()},p=!!(r?.locked&&d);return o.jsx(i.Provider,{value:{status:r,loading:c,vendorId:d,isLocked:p,checkSubscription:m,refreshStatus:x},children:e})}let l=()=>(0,s.useContext)(i)},58053:(e,r,t)=>{"use strict";t.d(r,{d:()=>c,z:()=>l});var o=t(97247),s=t(28964),n=t(69008),a=t(87972),i=t(25008);let c=(0,a.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef(({className:e,variant:r,size:t,asChild:s=!1,...a},l)=>{let d=s?n.g7:"button";return o.jsx(d,{className:(0,i.cn)(c({variant:r,size:t,className:e})),ref:l,...a})});l.displayName="Button"},68920:(e,r,t)=>{"use strict";t.d(r,{h:()=>n});var o=t(45333);async function s(e,r){try{let t=e.includes("?")?"&":"?",s=`${o.m7}${e}${t}t=${Date.now()}`,n=await fetch(s,{...r,headers:{"Content-Type":"application/json",...r?.headers},credentials:"omit"}),a=n.headers.get("content-type");if(!a||!a.includes("application/json"))throw Error(`Non-JSON response: ${n.status} ${n.statusText}`);let i=await n.json();if(!n.ok)throw Error(i.error||i.message||`Request failed: ${n.status}`);return i}catch(r){if(console.error("API call failed:",e,r),r.message.includes("Failed to fetch"))throw Error("Network error. Please check your connection.");throw r}}let n={checkStatus:e=>s(`/api/vendors/${e}/subscription/status`),getSubscription:e=>s(`/api/vendors/${e}/subscription/`),getPackages:()=>s("/api/packages"),createOrder:(e,r,t="new")=>s(`/api/vendors/${e}/subscription/create-order`,{method:"POST",body:JSON.stringify({package_code:r,action:t})}),verifyPayment:(e,r)=>s(`/api/vendors/${e}/subscription/verify-payment`,{method:"POST",body:JSON.stringify(r)}),getHistory:e=>s(`/api/vendors/${e}/subscription/history`)}},25008:(e,r,t)=>{"use strict";t.d(r,{cn:()=>n});var o=t(61929),s=t(35770);function n(...e){return(0,s.m6)((0,o.W)(e))}},45333:(e,r,t)=>{"use strict";t.d(r,{NV:()=>n,ZE:()=>s,m7:()=>o,o5:()=>i,o8:()=>a,yj:()=>c});let o=process.env.NEXT_PUBLIC_DASHBOARD_URL,s=process.env.NEXT_PUBLIC_LOGIN_URL;process.env.NEXT_PUBLIC_USER_ONBOARD;let n=process.env.NEXT_PUBLIC_VENDOR_ONBOARD,a=process.env.NEXT_PUBLIC_BOOKING_URL,i=process.env.NEXT_PUBLIC_SOCKET_DASHBOARD_URL,c=process.env.NEXT_PUBLIC_RAZORPAY_KEY_ID||"rzp_test_viVAhwtbVdu1X4"},74527:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>x,metadata:()=>m});var o=t(72051),s=t(12601),n=t.n(s),a=t(1675),i=t.n(a),c=t(85003),l=t(45347);let d=(0,l.createProxy)(String.raw`/Users/bhanujoshi/Documents/Hash/hash-dashboard/app/AuthProvider.tsx#AuthProvider`);(0,l.createProxy)(String.raw`/Users/bhanujoshi/Documents/Hash/hash-dashboard/app/AuthProvider.tsx#useAuth`),t(67272),t(12054),(0,l.createProxy)(String.raw`/Users/bhanujoshi/Documents/Hash/hash-dashboard/app/context/SocketContext.tsx#useSocket`);let u=(0,l.createProxy)(String.raw`/Users/bhanujoshi/Documents/Hash/hash-dashboard/app/context/SocketContext.tsx#SocketProvider`),h=(0,l.createProxy)(String.raw`/Users/bhanujoshi/Documents/Hash/hash-dashboard/app/context/SubscriptionContext.tsx#SubscriptionProvider`);(0,l.createProxy)(String.raw`/Users/bhanujoshi/Documents/Hash/hash-dashboard/app/context/SubscriptionContext.tsx#useSubscription`);let m={title:"Hash for Gamers",description:"Gaming Cafe Booking App"};function x({children:e}){return(0,o.jsxs)("html",{lang:"en",suppressHydrationWarning:!0,children:[o.jsx("head",{}),o.jsx("body",{className:`${n().variable} ${i().variable} bg-background text-foreground`,children:(0,o.jsxs)(d,{children:[" ",o.jsx(c.f,{attribute:"class",defaultTheme:"dark",enableSystem:!0,children:o.jsx(u,{children:o.jsx(h,{children:e})})})]})})]})}},67272:()=>{},12054:()=>{}};