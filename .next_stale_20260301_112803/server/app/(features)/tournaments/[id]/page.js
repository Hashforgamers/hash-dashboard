(()=>{var e={};e.id=439,e.ids=[439],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},32355:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>d}),s(73503),s(23027),s(90996),s(74527);var a=s(30170),r=s(45002),l=s(83876),n=s.n(l),c=s(66299),i={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>c[e]);s.d(t,i);let d=["",{children:["(features)",{children:["tournaments",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,73503)),"/Users/bhanujoshi/Documents/Hash/hash-dashboard/app/(features)/tournaments/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,23027)),"/Users/bhanujoshi/Documents/Hash/hash-dashboard/app/(features)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,90996,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,74527)),"/Users/bhanujoshi/Documents/Hash/hash-dashboard/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,90996,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/bhanujoshi/Documents/Hash/hash-dashboard/app/(features)/tournaments/[id]/page.tsx"],x="/(features)/tournaments/[id]/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(features)/tournaments/[id]/page",pathname:"/tournaments/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},26606:(e,t,s)=>{Promise.resolve().then(s.bind(s,37804))},37804:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var a=s(97247),r=s(28964),l=s(34178),n=s(74747),c=s(17712),i=s(58772),d=s(22392);let o=(0,s(26323).Z)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);var x=s(67636),m=s(999),u=s(70405),h=s(57989),p=s(68918),g=s(49256),j=s(74570);s(9054),s(41688);var b=s(61809);let f={draft:"bg-gray-500/20 text-gray-300 border border-gray-500/30",published:"bg-blue-500/20 text-blue-300 border border-blue-500/30",ongoing:"bg-green-500/20 text-green-300 border border-green-500/30",completed:"bg-purple-500/20 text-purple-300 border border-purple-500/30",canceled:"bg-red-500/20 text-red-300 border border-red-500/30"},N={confirmed:"bg-green-500/20 text-green-400",pending:"bg-yellow-500/20 text-yellow-400",rejected:"bg-red-500/20 text-red-400",canceled:"bg-gray-500/20 text-gray-400"},y={paid:"bg-green-500/20 text-green-400",pending:"bg-yellow-500/20 text-yellow-400",failed:"bg-red-500/20 text-red-400",refunded:"bg-purple-500/20 text-purple-400"},v={confirmed:a.jsx(n.Z,{className:"w-3 h-3"}),pending:a.jsx(c.Z,{className:"w-3 h-3"}),rejected:a.jsx(i.Z,{className:"w-3 h-3"}),canceled:a.jsx(i.Z,{className:"w-3 h-3"})};function w(){let e=(0,l.useRouter)(),t=(0,l.useParams)().id,[s,w]=(0,r.useState)(null),{token:_,loading:k}=(0,j.K)(s),[Z,C]=(0,r.useState)(null),[P,q]=(0,r.useState)([]),[S,U]=(0,r.useState)(!0),[D,A]=(0,r.useState)(!0),[L,R]=(0,r.useState)(""),[H,E]=(0,r.useState)(""),T=e=>new Date(e).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),M=e=>new Date(e).toLocaleDateString("en-CA"),z=P.filter(e=>{let t=(e.team_name??e.contact_name??"").toLowerCase().includes(L.toLowerCase()),s=!H||e.status===H;return t&&s}),$=P.filter(e=>"confirmed"===e.status).length,G=P.filter(e=>"pending"===e.status).length,O=P.filter(e=>"paid"===e.payment_status).length;return k||S?a.jsx("div",{className:"page-container items-center justify-center",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"body-text-muted",children:"Loading tournament..."})]})}):Z?a.jsx(b.DashboardLayout,{children:(0,a.jsxs)("div",{className:"page-container overflow-y-auto",children:[(0,a.jsxs)("nav",{className:"flex items-center gap-1 body-text-muted mb-4 flex-shrink-0 flex-wrap",children:[(0,a.jsxs)("button",{onClick:()=>e.push("/"),className:"hover:text-foreground transition-colors flex items-center gap-1",children:[a.jsx(o,{className:"icon-xs"})," Home"]}),a.jsx(x.Z,{className:"icon-xs"}),a.jsx("button",{onClick:()=>e.push("/tournaments"),className:"hover:text-foreground transition-colors",children:"Tournaments"}),a.jsx(x.Z,{className:"icon-xs"}),a.jsx("span",{className:"text-foreground truncate max-w-[200px]",children:Z.title})]}),(0,a.jsxs)("div",{className:"page-header",children:[(0,a.jsxs)("div",{className:"page-title-section",children:[a.jsx("h1",{className:"page-title",children:Z.title}),a.jsx("p",{className:"page-subtitle",children:"Manage tournament details, participants, and registrations."})]}),a.jsx("div",{className:"page-actions",children:(0,a.jsxs)("button",{className:"btn-secondary text-sm",onClick:()=>{let e=new Blob([[["Team/Player","Contact","Email","Phone","Registered","Status","Payment","Waiver"],...P.map(e=>[e.team_name??e.contact_name??e.team_id,e.contact_name??"",e.contact_email??"",e.contact_phone??"",M(e.created_at),e.status,e.payment_status,e.waiver_signed?"Yes":"No"])].map(e=>e.join(",")).join("\n")],{type:"text/csv"}),s=URL.createObjectURL(e),a=document.createElement("a");a.href=s,a.download=`registrations-${t.slice(0,8)}.csv`,a.click(),URL.revokeObjectURL(s)},children:[a.jsx(m.Z,{className:"icon-sm"})," Export CSV"]})})]}),a.jsx("div",{className:"content-card content-card-padding mb-4 flex-shrink-0",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[a.jsx("div",{className:"w-full md:w-52 h-32 rounded-xl flex-shrink-0 overflow-hidden border border-border bg-gradient-to-br from-blue-900/20 to-purple-900/20 flex items-center justify-center",children:Z.banner_image_url?a.jsx("img",{src:Z.banner_image_url,alt:Z.title,className:"w-full h-full object-cover"}):(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2 text-muted-foreground/40",children:[a.jsx(u.Z,{className:"w-8 h-8"}),a.jsx("span",{className:"text-xs",children:"No banner"})]})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"section-title",children:"Tournament Details"}),a.jsx("span",{className:`text-xs font-semibold px-3 py-1 rounded-full
                  ${f[Z.status]}`,children:Z.status.charAt(0).toUpperCase()+Z.status.slice(1)})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"body-text-muted mb-1",children:"Start"}),a.jsx("p",{className:"body-text font-medium text-sm",children:T(Z.start_at)})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"body-text-muted mb-1",children:"End"}),a.jsx("p",{className:"body-text font-medium text-sm",children:T(Z.end_at)})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"body-text-muted mb-1",children:"Registrations"}),a.jsx("p",{className:"stat-value-large",children:P.length})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"body-text-muted mb-1",children:"Confirmed"}),a.jsx("p",{className:"stat-value-large text-green-400",children:$})]})]})]})]})}),a.jsx("div",{className:"stats-grid mb-4 flex-shrink-0",children:[{label:"Total",value:P.length,color:"icon-blue",icon:a.jsx(h.Z,{className:"icon-md text-blue-400"})},{label:"Confirmed",value:$,color:"icon-green",icon:a.jsx(n.Z,{className:"icon-md text-green-400"})},{label:"Pending",value:G,color:"icon-yellow",icon:a.jsx(c.Z,{className:"icon-md text-yellow-400"})},{label:"Paid",value:O,color:"icon-emerald",icon:a.jsx(p.Z,{className:"icon-md text-emerald-400"})}].map(({label:e,value:t,color:s,icon:r})=>a.jsx("div",{className:"stat-card",children:a.jsx("div",{className:"stat-card-content",children:a.jsx("div",{className:"stat-card-layout",children:(0,a.jsxs)("div",{className:"stat-card-left",children:[a.jsx("div",{className:`stat-card-icon ${s}`,children:r}),(0,a.jsxs)("div",{className:"stat-card-text",children:[a.jsx("p",{className:"stat-label",children:e}),a.jsx("p",{className:"stat-value-large",children:t})]})]})})})},e))}),(0,a.jsxs)("div",{className:"full-height-card flex flex-col",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 p-4 border-b border-border flex-shrink-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(h.Z,{className:"icon-md text-muted-foreground"}),a.jsx("h3",{className:"section-title",children:"Registrations"}),!D&&a.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2 py-0.5 rounded-full",children:z.length})]}),(0,a.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,a.jsxs)("div",{className:"relative",children:[a.jsx(g.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 icon-sm text-muted-foreground"}),a.jsx("input",{className:"input-field pl-9 py-2 text-sm w-48",placeholder:"Search teams...",value:L,onChange:e=>R(e.target.value)})]}),(0,a.jsxs)("select",{className:"select-field py-2 text-sm w-36",value:H,onChange:e=>E(e.target.value),children:[a.jsx("option",{value:"",children:"All Status"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"confirmed",children:"Confirmed"}),a.jsx("option",{value:"rejected",children:"Rejected"}),a.jsx("option",{value:"canceled",children:"Canceled"})]})]})]}),a.jsx("div",{className:"overflow-auto flex-1",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"table-header sticky top-0",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"table-cell table-header-text text-left",children:"Team / Player"}),a.jsx("th",{className:"table-cell table-header-text text-left",children:"Contact"}),a.jsx("th",{className:"table-cell table-header-text text-left",children:"Registered"}),a.jsx("th",{className:"table-cell table-header-text text-left",children:"Status"}),a.jsx("th",{className:"table-cell table-header-text text-left",children:"Payment"}),a.jsx("th",{className:"table-cell table-header-text text-center",children:"Waiver"})]})}),a.jsx("tbody",{children:D?[void 0,void 0,void 0,void 0].map((e,t)=>a.jsx("tr",{className:"table-row animate-pulse",children:[...Array(6)].map((e,t)=>a.jsx("td",{className:"table-cell",children:a.jsx("div",{className:"h-4 bg-muted rounded w-full max-w-[120px]"})},t))},t)):0===z.length?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"table-cell text-center py-20",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[a.jsx(h.Z,{className:"w-10 h-10 text-muted-foreground/20"}),a.jsx("p",{className:"body-text-muted",children:0===P.length?"No registrations yet for this tournament.":"No registrations match your filters."})]})})}):z.map(e=>(0,a.jsxs)("tr",{className:"table-row",children:[(0,a.jsxs)("td",{className:"table-cell",children:[a.jsx("p",{className:"table-cell-text font-medium",children:e.team_name??e.contact_name??"—"}),e.team_name&&e.contact_name&&a.jsx("p",{className:"text-xs text-muted-foreground",children:e.contact_name})]}),(0,a.jsxs)("td",{className:"table-cell",children:[e.contact_email&&a.jsx("p",{className:"text-xs text-muted-foreground",children:e.contact_email}),e.contact_phone&&a.jsx("p",{className:"text-xs text-muted-foreground",children:e.contact_phone}),!e.contact_email&&!e.contact_phone&&a.jsx("span",{className:"text-xs text-muted-foreground",children:"—"})]}),a.jsx("td",{className:"table-cell body-text-muted text-sm",children:M(e.created_at)}),a.jsx("td",{className:"table-cell",children:(0,a.jsxs)("span",{className:`inline-flex items-center gap-1.5 text-xs font-semibold
                          px-2.5 py-1 rounded-full ${N[e.status]}`,children:[v[e.status],e.status.charAt(0).toUpperCase()+e.status.slice(1)]})}),a.jsx("td",{className:"table-cell",children:a.jsx("span",{className:`text-xs font-semibold px-2.5 py-1 rounded-full
                          ${y[e.payment_status]}`,children:e.payment_status.charAt(0).toUpperCase()+e.payment_status.slice(1)})}),a.jsx("td",{className:"table-cell text-center",children:e.waiver_signed?a.jsx(n.Z,{className:"w-4 h-4 text-green-400 mx-auto"}):a.jsx(i.Z,{className:"w-4 h-4 text-red-400/50 mx-auto"})})]},e.id))})]})})]})]})}):a.jsx("div",{className:"page-container items-center justify-center",children:(0,a.jsxs)("div",{className:"content-card content-card-padding text-center max-w-sm",children:[a.jsx(d.Z,{className:"w-10 h-10 text-muted-foreground/30 mx-auto mb-3"}),a.jsx("p",{className:"body-text-muted mb-4",children:"Tournament not found."}),a.jsx("button",{className:"btn-primary",onClick:()=>e.push("/tournaments"),children:"Back to Tournaments"})]})})}},74747:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(26323).Z)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},58772:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(26323).Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},17712:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(26323).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},68918:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(26323).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},999:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(26323).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},70405:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(26323).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},49256:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(26323).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},73503:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(45347).createProxy)(String.raw`/Users/bhanujoshi/Documents/Hash/hash-dashboard/app/(features)/tournaments/[id]/page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[0,970,540,381,876],()=>s(32355));module.exports=a})();